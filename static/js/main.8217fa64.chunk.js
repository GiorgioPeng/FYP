(this.webpackJsonpsombra=this.webpackJsonpsombra||[]).push([[0],{531:function(e,t,a){e.exports=a(663)},536:function(e,t,a){},537:function(e,t,a){},581:function(e,t){},582:function(e,t){},590:function(e,t){},593:function(e,t){},594:function(e,t){},663:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(62),l=a.n(o),i=(a(536),a(711)),c=a(665),s=(a(537),a(20)),u=a(387),m=a(9),f=Object(n.createContext)(null),d={data4Analyse:"",proprocessWay:"Delelt Null",column:[],timeColumn:"",labelColumn:"",inputColumn:[],finishChoose:!1,windowSize:20,hiddenLayers:4,epochs:20,learnRate:.05,trainingDataSize:80,finishSet:!1,model:"",modelResult:"",anomalyDataPercentage:0,dropout:0};function p(e){var t=e.children,a=Object(n.useState)(d),o=Object(m.a)(a,2),l=o[0],i=o[1];return r.a.createElement(f.Provider,{value:[l,function(e,t){console.log(e,t),i((function(a){return Object(u.a)(Object(u.a)({},a),{},Object(s.a)({},e,t))}))},function(){i(d)}]},t)}function h(){return Object(n.useContext)(f)}var g=a(714),b=a(463),v=a.n(b),y=a(500),C=function(e,t){try{var a=new FileReader;a.readAsText(e,"utf-8"),a.addEventListener("load",(function(){var e=y.a(a.result,(function(e){return e}));t("column",e.columns),t("data4Analyse",e)}))}catch(n){console.log(n)}},E=Object(i.a)((function(e){return{root:{"& > *":{}},input:{display:"none"},uploadButton:{marginTop:"10px",marginBottom:"10px",height:40,width:250,display:"flex",justifyContent:"center",alignItems:"center",position:"relative",left:"50%",cursor:"pointer",transform:"translateX(-50%)","& > p":{fontSize:"14px",position:"relative"},"&:hover":{"&:after":{content:"'Only .csv format supporting now!'",position:"absolute",fontSize:"18px",color:"red",left:"150%",transform:"translateX(-50%)",whiteSpace:"nowrap"}}}}}));var x=function(){var e=E(),t=h(),a=Object(m.a)(t,3),n=a[1],o=a[2],l=r.a.createRef();return r.a.createElement("div",{className:e.root},r.a.createElement("input",{accept:".csv",ref:l,onChange:function(){o();var e=l.current.files[0];C(e,n)},className:e.input,id:"icon-button-file",type:"file"}),r.a.createElement("label",{className:e.uploadButton,htmlFor:"icon-button-file"},r.a.createElement(g.a,{variant:"contained",color:"primary",component:"span",startIcon:r.a.createElement(v.a,null)},"Upload Dataset")))};var j=function(){return r.a.createElement("svg",{className:"canvas",viewBox:"0 0 1920 1080",preserveAspectRatio:"xMaxYMid slice",version:"1.1"},r.a.createElement("rect",{width:"1920",height:"1080",fill:"hsl(153, 65%, 15%)"}),r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"0.5",y1:"0",x2:"0",y2:"1",id:"SvgjsLinearGradient1196"},r.a.createElement("stop",{stopColor:"#288a5e",offset:"0"}),r.a.createElement("stop",{stopColor:"#060c14",offset:"0.1"})),r.a.createElement("linearGradient",{x1:"0.5",y1:"0",x2:"0",y2:"1",id:"SvgjsLinearGradient1197"},r.a.createElement("stop",{stopColor:"#288a5e",offset:"0"}),r.a.createElement("stop",{stopColor:"#060c14",offset:"0.22857142857142856"})),r.a.createElement("linearGradient",{x1:"0.5",y1:"0",x2:"0",y2:"1",id:"SvgjsLinearGradient1198"},r.a.createElement("stop",{stopColor:"#288a72",offset:"0"}),r.a.createElement("stop",{stopColor:"#060914",offset:"0.3571428571428571"})),r.a.createElement("linearGradient",{x1:"0.5",y1:"0",x2:"0",y2:"1",id:"SvgjsLinearGradient1199"},r.a.createElement("stop",{stopColor:"#c0f2ef",offset:"0"}),r.a.createElement("stop",{stopColor:"#4249d7",offset:"0.48571428571428565"})),r.a.createElement("linearGradient",{x1:"0.5",y1:"0",x2:"0",y2:"1",id:"SvgjsLinearGradient1200"},r.a.createElement("stop",{stopColor:"#c0f2d1",offset:"0"}),r.a.createElement("stop",{stopColor:"#42a3d7",offset:"0.6142857142857142"})),r.a.createElement("linearGradient",{x1:"0.5",y1:"0",x2:"0",y2:"1",id:"SvgjsLinearGradient1201"},r.a.createElement("stop",{stopColor:"#c0f2db",offset:"0"}),r.a.createElement("stop",{stopColor:"#4285d7",offset:"0.7428571428571429"})),r.a.createElement("linearGradient",{x1:"0.5",y1:"0",x2:"0",y2:"1",id:"SvgjsLinearGradient1202"},r.a.createElement("stop",{stopColor:"#c0f2e5",offset:"0"}),r.a.createElement("stop",{stopColor:"#4267d7",offset:"0.8714285714285713"}))),r.a.createElement("path",{d:"M0,-506.77340543269145C59.26145827850629,-496.7278828814427,255.4901428494137,-482.7098073624625,355.5687496710377,-446.5002701251991C455.64735649266174,-410.2907328879357,506.7034076171448,-316.8838256930635,600.471640929744,-289.51618200911093C694.2398742423433,-262.14853832515837,804.9731422179036,-308.0046646992008,918.178149546633,-282.29440802148355C1031.3831568753624,-256.5841513437663,1162.4496268103608,-175.173613368331,1279.7016849021204,-135.25464194280738C1396.95374299388,-95.33567051728377,1514.9741122475443,-70.86078555336121,1621.690498097191,-42.78057946834189C1728.4068839468378,-14.700373383322567,1870.2817496828652,20.55873222803347,1920,33.22659456730854L 1920 1080 L 0 1080 Z",fill:"url(#SvgjsLinearGradient1196)"}),r.a.createElement("path",{d:"M0,-433.76239083957404C51.51882549960332,-419.92018418711194,204.3030325319853,-376.4085157560768,309.1129529976199,-350.70915092480146C413.9228734632545,-325.00978609352615,513.5249113995557,-314.91562582691574,628.8595227938076,-279.56620185192213C744.1941341880596,-244.21677787692855,889.3950828445552,-181.85913418883405,1001.1206213631317,-138.6126070748399C1112.8461598817082,-95.36607996084575,1194.8412981664055,-42.22443493434153,1299.2127539052667,-20.087039167957244C1403.584209644128,2.0503565984270438,1523.8848147805102,-29.223292912217097,1627.349355796299,-5.7882324765341835C1730.813896812088,17.64682795914873,1871.2248926327165,99.47139745902784,1920,120.52332344614025L 1920 1080 L 0 1080 Z",fill:"url(#SvgjsLinearGradient1197)"}),r.a.createElement("path",{d:"M0,-321.2434050246518C68.34803429983727,-309.61691829513273,288.06772869355746,-296.0564900738598,410.08820579902357,-251.48448464753736C532.1086829044897,-206.91247922121494,606.2475533289844,-100.66107890774252,732.1228626327968,-53.8113724667172C857.9981719366092,-6.961666025691883,1036.5882467850142,1.5852466394847262,1165.340061621898,29.613753998614577C1294.0918764587818,57.64226135774443,1378.857095257749,78.07396009670155,1504.6337516540993,114.35967168806192C1630.4104080504496,150.64538327942228,1850.77229194235,225.1666315703243,1920,247.3280235467768L 1920 1080 L 0 1080 Z",fill:"url(#SvgjsLinearGradient1198)"}),r.a.createElement("path",{d:"M0,-151.28081860349127C64.63627607949805,-139.3377360851051,257.46251723356755,-108.60016398984862,387.8176564769883,-79.62232349317415C518.1727957204091,-50.644482996499676,655.6066461721915,-13.846940621955746,782.1308354605245,22.586224376555563C908.6550247488575,59.01938937506687,1010.9980616221864,100.15664565431041,1146.9627922069865,138.9766664978937C1282.9275227917865,177.79668734147697,1469.0796843371563,206.73973981209554,1597.9192189693251,255.5063494380552C1726.758753601494,304.27295906401486,1866.3198698282208,402.2313284510522,1920,431.5763242536516L 1920 1080 L 0 1080 Z",fill:"url(#SvgjsLinearGradient1199)"}),r.a.createElement("path",{d:"M0,-18.98976840299884C69.82069828158214,-4.866900089992269,295.042955853834,31.455620732398877,418.92418968949283,65.7474414750406C542.8054235251517,100.03926221768234,623.890400474473,146.4029727090791,743.287403013953,186.76115605285153C862.6844055534331,227.11933939662396,998.1251575056722,268.71606943001797,1135.306204926373,307.8965415376752C1272.487252347074,347.07701364533244,1435.591388359221,376.8012308317643,1566.3736875381587,421.8439886987948C1697.1559867170965,466.8867465658253,1861.0622812563597,552.1015720663478,1920,578.1530887398584L 1920 1080 L 0 1080 Z",fill:"url(#SvgjsLinearGradient1200)"}),r.a.createElement("path",{d:"M0,88.88394890239394C61.025141337539424,107.22876929202857,237.40453725003468,161.83148168933016,366.15084802523654,198.95287124020177C494.89715880043843,236.07426079107339,643.146797949468,267.266301126298,772.4778646512111,311.61228620762364C901.8089313529542,355.9582712889493,1018.3670202966273,422.0071690273888,1142.1372482356953,465.02878172815565C1265.9074761747634,508.0503944289225,1385.4554403249022,530.5280059784232,1515.0992322856196,569.7419624122248C1644.743024246337,608.9559188460264,1852.51653871427,678.5507606778419,1920,700.3125203309654L 1920 1080 L 0 1080 Z",fill:"url(#SvgjsLinearGradient1201)"}),r.a.createElement("path",{d:"M0,277.48115438388896C45.18154184087917,291.3291738427334,185.2407875318138,329.2574903654787,271.08925104527503,360.5692711369554C356.9377145587363,391.88105190843214,417.9628245160045,431.5898203645502,515.0907810807673,465.3518390127491C612.2187376455302,499.11385766094804,753.4063448829422,536.1504237006809,853.8569904338519,563.141383026149C954.3076359847616,590.1323423516171,1028.3445250262716,606.6675947480468,1117.7946543862254,627.2975949655579C1207.244783746179,647.927595183069,1307.1092368713564,650.0498435564526,1390.5577665935743,686.9213843312158C1474.0062963157923,723.792925105979,1530.2454604851284,812.4811636529769,1618.4858327195327,848.5268396141367C1706.726204953937,884.5725155752966,1869.7476387865888,894.0840066841685,1920,903.1954400981748L 1920 1080 L 0 1080 Z",fill:"url(#SvgjsLinearGradient1202)"}))},w=a(716),S=a(717),O=a(666),N=Object(i.a)((function(e){return{root:{marginBottom:0},media:{height:400,overflow:"hidden"}}}));var k=function(){var e=N();return r.a.createElement(w.a,{className:e.root},r.a.createElement("div",{className:e.media},r.a.createElement(j,null)),r.a.createElement(S.a,null,r.a.createElement(O.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Privacy Preserving Time Series Data Mining Platform based on Front-End"),r.a.createElement(O.a,{variant:"body2",color:"textSecondary",component:"p"},"In the platform, users can upload their own datasets to do data mining without care about the privacy leaking problem. Because the platform is only depende on the front-end, that mean when the page finishes loading, users can run the platform offline. In this platform, Users can finish data preprocess, data visualization, deep learning (model training and prediction). There is a really high freedom of the platform, users can do data mining by different method according different dataset. Now, have a try!")))},M=a(6),A=a(354),F=a(732),z=a(728),T=a(731),L=a(735),I=a(718),D=a(736),R=Object(i.a)((function(e){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2,backgroundColor:"#f8edeb"}}})),P={PaperProps:{style:{backgroundColor:"#fcefb4",maxHeight:224,width:300}}},B=function(e){var t=e.value,a=e.f,n=e.element,o=e.multiple,l=e.disabled,i=R();return r.a.createElement(T.a,{disabled:l,multiple:o,value:t,onChange:a,input:r.a.createElement(I.a,null),MenuProps:P,renderValue:function(e){return r.a.createElement("div",{className:i.chips},e.map?e.map((function(e){return r.a.createElement(L.a,{key:e,label:e,className:i.chip})})):r.a.createElement("div",{className:i.chips},r.a.createElement(L.a,{key:e,label:e,className:i.chip})))}},n.map((function(e,t){return r.a.createElement(D.a,{key:t,value:e},e)})))},G=a(43),W=a(730),q=a(733),J=a(727),V=a(734),$=function(e,t,a,n,r){return(r-n)/(a-t)*(e-t)+n},_=function(e,t){var a=[],n=[];if(e.filter((function(r,o){if(isNaN(r[t])||!r[t]){a.push(o);for(var l={},i=o-1;i>=0;i--)if(isNaN(e[i][t])||!r[t]){l.last=i;break}for(var c=o+1;c<e.length;c++)if(isNaN(e[c][t])||!r[t]){l.next=c;break}void 0===l.last&&(l.last=-1),void 0===!l.next&&(l.next=-1),n.push(l)}return""})),e.length>1)for(var r=0;r<a.length;r++)-1!==n[r].last?-1!==n[r].next?e[a[r]][t]=$(a[r],parseInt(n[r].last),parseInt(n[r].next),parseFloat(e[n[r].last][t]),parseFloat(e[n[r].next][t])):e[a[r]][t]=e[n[r].last][t]:e[a[r]][t]=e[n[r].next][t];return e},X=function(e,t){var a=[];return e.filter((function(e,n){return!isNaN(e[t])&&e[t]||a.push(n),""})),a.forEach((function(n){for(var r=0,o=0,l=0;l<e.length;l++)-1===a.indexOf(l)&&(r+=parseFloat(e[l][t])/Math.abs(n-l),o+=1/Math.abs(n-l));e[n][t]=r/o})),e},H=a(721),Y=function(e,t,a){var n=e.length,r=Object(H.a)(e,(function(e){return parseFloat(e[t])})),o=Object(H.a)(e,(function(e){return parseFloat(e[a])})),l=0;e.forEach((function(e){isNaN(e[t])||isNaN(e[a])||!e[t]||!e[a]||(l+=parseFloat(e[t])*parseFloat(e[a]))}));var i=0,c=0;e.forEach((function(e){!isNaN(e[t])&&!isNaN(e[a])&&e[t]&&e[a]&&(i+=Math.pow(parseFloat(e[t]),2),c+=Math.pow(parseFloat(e[a]),2))}));var s=(l-r*o/n)/Math.sqrt((i-Math.pow(r,2)/n)*(c-Math.pow(o,2)/n));return isNaN(s)?0:s},Z=function(e,t){for(var a=[],n=0;n<t.length;n++){for(var r=[],o=0;o<t.length;o++)o!==n&&r.push(Y(e,t[n],t[o]));r.splice(n,0,0),a.push(U(r))}return a};function U(e){if(0===e.length)return-1;for(var t=Math.abs(e[0]),a=0,n=1;n<e.length;n++)Math.abs(e[n])>t&&(a=n,t=Math.abs(e[n]));return{columnIndex:a,coefficient:e[a]}}var K=function(e,t,a){var n=-1,r=t[e];if(a){for(var o=Number.MAX_SAFE_INTEGER,l=0;l<t.length;l++)if(!isNaN(t[l])&&t[l]&&l!==e){var i=Math.abs(parseFloat(t[l])-r);i<o&&(o=i,n=l)}}else for(var c=Number.MIN_SAFE_INTEGER,s=0;s<t.length;s++)if(!isNaN(t[s])&&t[s]&&s!==e){var u=Math.abs(parseFloat(t[s])-r);u>c&&(c=u,n=s)}return n},Q=function(e,t){var a,n=Z(e,t),r=Object(M.a)(t);try{var o=function(){var r=a.value,o=[];e.filter((function(e,t){return!isNaN(e[r])&&e[r]||o.push(t),""}));var l=n.shift(),i=l.columnIndex,c=l.coefficient;if(0===o.length)return"continue";o.forEach((function(a){var n=e.map((function(e){return e[t[i]]})),o=K(a,n,c>0);e[a][r]=e[o][r]}))};for(r.s();!(a=r.n()).done;)o()}catch(l){r.e(l)}finally{r.f()}return e},ee=function(e,t){var a=[];return e.filter((function(e,n){return!isNaN(e[t])&&e[t]||a.push(n),""})),a.forEach((function(t,a){e.splice(t-a,1)})),e},te=a(13),ae=a(722),ne=a(464),re=function(e,t,a){t/=100;var n={},r=[],o=Object(ae.a)(e,(function(e){return parseFloat(e[a])})),l=Object(ne.a)(e,(function(e){return parseFloat(e[a])})),i=Math.sqrt(l/t);n.top=o+i,n.bottom=o-i;var c,s=0,u=Object(M.a)(e);try{for(u.s();!(c=u.n()).done;){var m=c.value;(m[a]<=n.bottom||m[a]>=n.top)&&r.push(s),s++}}catch(f){u.e(f)}finally{u.f()}return{indexes:r,bound:n}},oe=function(e,t,a){var n,r,o=JSON.parse(JSON.stringify(e)),l=[],i=[],c=[],s=Object(M.a)(a);try{for(s.s();!(r=s.n()).done;){var u,m=r.value;n=re(e,t,m[0]),(u=c).push.apply(u,Object(te.a)(n.indexes)),i.push({column:m[0],bound:n.bound})}}catch(g){s.e(g)}finally{s.f()}c=Object(te.a)(new Set(c));var f,d=0,p=Object(M.a)(c);try{for(p.s();!(f=p.n()).done;){var h=f.value;l.push.apply(l,Object(te.a)(o.splice(h+d,1))),d--}}catch(g){p.e(g)}finally{p.f()}return{result:o,removedElement:l,hint:i}},le=a(73),ie=a.n(le),ce=a(501),se=Object(i.a)((function(e){return{root:{marginTop:"20px",padding:"5px",backgroundColor:"#edf2fb"},container:{display:"flex",justifyContent:"space-around",alignItems:"center"}}})),ue=function(e){var t=e.relativeArr,a=r.a.useRef(),n=se();return r.a.useEffect((function(){var e={nodes:[],edges:[]};t.forEach((function(t,a,n){Math.abs(t.pearsonCoefficient)>.4&&e.edges.push({source:0,target:a+1,value:0===t.pearsonCoefficient?0:1/t.pearsonCoefficient,inCutEdge:Math.abs(t.pearsonCoefficient)>.7}),0===a&&e.nodes.push({name:t.column1,index:0,value:1,group:0}),e.nodes.push({name:t.column2,index:a+1,value:1,group:a+1})})),a.current&&0!==t.length&&Object(ce.a)(a.current,{$schema:"/FYP/schema/vega/v5.json",width:600,height:400,padding:5,autosize:"fit",signals:[{name:"cx",update:"width / 2"},{name:"cy",update:"height / 2"},{description:"State variable for active node fix status.",name:"fix",value:!1,on:[{events:"text:mouseout[!event.buttons], window:mouseup",update:"false"},{events:"text:mouseover",update:"fix || true"},{events:"[text:mousedown, window:mouseup] > window:mousemove!",update:"xy()",force:!0}]},{description:"Graph node most recently interacted with.",name:"node",value:null,on:[{events:"text:mouseover",update:"fix === true ? item() : node"}]},{description:"Flag to restart Force simulation upon data changes.",name:"restart",value:!1,on:[{events:{signal:"fix"},update:"fix && fix.length"}]}],data:[{name:"node-data",values:e.nodes},{name:"link-data",values:e.edges}],scales:[{name:"color",type:"ordinal",domain:{data:"node-data",field:"group"},range:{scheme:"redpurple"}},{name:"colorEdge",type:"quantize",domain:{data:"link-data",field:"value"},range:{scheme:"viridis"}}],marks:[{name:"nodes",type:"text",zindex:1,from:{data:"node-data"},on:[{trigger:"fix",modify:"node",values:"fix === true ? {fx: node.x, fy: node.y} : {fx: fix[0], fy: fix[1]}"},{trigger:"!fix",modify:"node",values:"{fx: null, fy: null}"}],encode:{enter:{fill:{scale:"color",field:"group"},text:{field:"name"},fontSize:{value:16},fontWeight:{value:600}},update:{cursor:{value:"pointer"}}},transform:[{type:"force",iterations:300,restart:{signal:"restart"},signal:"force",forces:[{force:"center",x:{signal:"cx"},y:{signal:"cy"}},{force:"collide"},{force:"nbody"},{force:"link",links:"link-data"}]}]},{type:"path",from:{data:"link-data"},interactive:!1,encode:{update:{stroke:{scale:"colorEdge",field:"value"},strokeWidth:{value:1},opacity:{value:.9}}},transform:[{type:"linkpath",require:{signal:"force"},shape:"line",sourceX:"datum.source.x",sourceY:"datum.source.y",targetX:"datum.target.x",targetY:"datum.target.y"}]}]})}),[t]),r.a.createElement(r.a.Fragment,null,0!==t.length?r.a.createElement(c.a,{elevation:3,className:n.root},r.a.createElement(O.a,{variant:"subtitle2",color:"textSecondary",style:{textAlign:"center"}},"Correlation Between Each Feature and Output"),r.a.createElement("div",{className:n.container},r.a.createElement("div",{ref:a}),r.a.createElement(W.a,{style:{maxWidth:300,maxHeight:400,overflow:"auto"},dataSource:t,columns:[{code:"column1",width:100,name:"column 1"},{code:"column2",width:100,name:"column 2"},{code:"pearsonCoefficient",width:100,name:"relative coefficient"}]}))):"")},me=Object(i.a)((function(e){return{root:{marginTop:"10px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",width:"100%"},choose:{color:"red",fontWeight:"bold"},require:{display:"flex",alignItems:"center"},text:{margin:"10px"},button:{fontSize:"10px"}}})),fe=Object(G.a)((function(e){return{root:{width:42,height:26,padding:0,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#52d869",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}}))((function(e){var t=e.classes,a=Object(A.a)(e,["classes"]);return r.a.createElement(F.a,Object.assign({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},a))})),de="0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)",pe=[{value:0},{value:4,label:"3 \u03c3(Sigma)"},{value:11.1,label:"2 \u03c3(Sigma)"},{value:25,label:"1 \u03c3(Sigma)"}],he=Object(G.a)({root:{marginTop:"12px",width:"30vw",color:"#3880ff",height:2,padding:"15px 0"},thumb:{height:28,width:28,backgroundImage:"radial-gradient(#f5efff, #a594f9, #e5d9f2)",boxShadow:de,marginTop:-14,marginLeft:-14,"&:focus, &:hover, &$active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:de}}},active:{},valueLabel:{left:"calc(-50% + 12px)",top:-22,"& *":{background:"transparent",color:"#000"}},track:{height:2},rail:{height:2,opacity:.5,backgroundColor:"#bfbfbf"},mark:{backgroundColor:"#bfbfbf",height:8,width:1,marginTop:-3},markActive:{opacity:1,backgroundColor:"currentColor"}})(V.a),ge=function(e){var t=e.removedElement,a=e.columns,n=e.hint;return r.a.createElement(r.a.Fragment,null,0!==t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,"Removed Elements Table (",t.length," rows)"),r.a.createElement(W.a,{style:{maxWidth:1200,height:300,overflow:"auto",fontSize:"15px"},dataSource:t,columns:a.map((function(e){return n[0].column===e?{code:e,name:e,width:150,align:"center",title:r.a.createElement("h2",null,e,r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"Top Bound: ".concat(n[0].bound.top,";\n                                                        Bottom Bound: ").concat(n[0].bound.bottom)},r.a.createElement(ie.a,{fontSize:"small"})))}:{code:e,name:e,width:150,align:"center",title:r.a.createElement("h2",null,e)}}))})):"")};var be=function(){var e=me(),t=h(),a=Object(m.a)(t,2),n=a[0],o=a[1],l=r.a.useState(!1),i=Object(m.a)(l,2),c=i[0],s=i[1],u=r.a.useState([]),f=Object(m.a)(u,2),d=f[0],p=f[1],g=r.a.useState(0),b=Object(m.a)(g,2),v=b[0],y=b[1],C=r.a.useState(null),E=Object(m.a)(C,2),x=E[0],j=E[1];return r.a.createElement("div",{className:e.root},0!==n.column.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{className:e.text,gutterBottom:!0},"Please choose data filled way:",r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"Hot Decking can only be used in multiple feature situation! Once you click finish button, you cannot go back unless you refresh the page.Because this choose will make the uploaded data set be changed."},r.a.createElement(ie.a,{fontSize:"small"}))),r.a.createElement(B,{disabled:!(!n.finishChoose&&!c),value:n.proprocessWay,f:function(e){o("proprocessWay",e.target.value)},element:["Delelt Null","Linear Interpolation","Inverse Distance Weighting","Hot Decking"],multiple:!1}),r.a.createElement("div",{className:e.require},r.a.createElement(O.a,{color:"secondary",variant:"h4"},"*"),"Please choose time column:"),r.a.createElement(B,{disabled:!!n.finishChoose,value:n.timeColumn,f:function(e){o("timeColumn",e.target.value)},element:n.column,multiple:!1}),r.a.createElement("div",{className:e.require},r.a.createElement(O.a,{color:"secondary",variant:"h4"},"*"),r.a.createElement(O.a,{gutterBottom:!0},"Please choose mining aim column:"),r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"This column will be what you want to analyse and predict!"},r.a.createElement(ie.a,{fontSize:"small"}))),r.a.createElement(B,{disabled:!!n.finishChoose,value:n.labelColumn,f:function(e){o("labelColumn",[e.target.value]);var t,a=[],r=[],l=Object(M.a)(n.column);try{for(l.s();!(t=l.n()).done;){var i=t.value;if(i!==e.target.value&&i!==n.timeColumn){var c=Y(n.data4Analyse,i,e.target.value).toFixed(5);r.push({column1:e.target.value,column2:i,pearsonCoefficient:c}),Math.abs(c)>.8&&a.push(i)}}}catch(s){l.e(s)}finally{l.f()}p(r),0===n.inputColumn.length&&o("inputColumn",a)},element:n.column,multiple:!1}),r.a.createElement(O.a,{className:e.text,gutterBottom:!0},"Please choose input features:",r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"The default selection is made by correlation, but can be modified"},r.a.createElement(ie.a,{fontSize:"small"}))),r.a.createElement(B,{disabled:!!n.finishChoose,value:n.inputColumn,f:function(e){o("inputColumn",e.target.value)},element:n.column,multiple:!0}),r.a.createElement(ue,{relativeArr:d}),r.a.createElement(O.a,{className:e.text,gutterBottom:!0},"Anomaly Data Percentage:",r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"Pay attention of using the option! Please estimate the percentage of anomaly data in your dataset before setting this! Once you click finish button, you cannot go back unless you refresh the page.Because this choose will make the uploaded data set be changed."},r.a.createElement(ie.a,{fontSize:"small"}))),r.a.createElement(he,{"aria-label":"ios slider",disabled:!(!n.finishChoose&&!c),marks:pe,onChange:function(e,t){y(t)},value:v,max:25,valueLabelDisplay:"on"}),r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:""===n.labelColumn?"You should choose mining aim column and time column at first!":""},r.a.createElement(z.a,{control:r.a.createElement(fe,{checked:n.finishChoose,onChange:function(){if(0!==n.labelColumn.length&&0!==n.timeColumn.length){if(o("finishChoose",!n.finishChoose),!c){s(!0);var e,t=JSON.parse(JSON.stringify(n.inputColumn));switch(n.proprocessWay){case"Delelt Null":e=JSON.parse(JSON.stringify(n.data4Analyse));var a,r=Object(M.a)(t);try{for(r.s();!(a=r.n()).done;){var l=a.value;e=ee(e,l)}}catch(g){r.e(g)}finally{r.f()}e=ee(e,n.labelColumn);break;case"Linear Interpolation":e=JSON.parse(JSON.stringify(n.data4Analyse));var i,u=Object(M.a)(t);try{for(u.s();!(i=u.n()).done;){var m=i.value;e=_(e,m)}}catch(g){u.e(g)}finally{u.f()}e=ee(e,n.labelColumn);break;case"Inverse Distance Weighting":e=JSON.parse(JSON.stringify(n.data4Analyse));var f,d=Object(M.a)(t);try{for(d.s();!(f=d.n()).done;){var p=f.value;e=X(e,p)}}catch(g){d.e(g)}finally{d.f()}e=ee(e,n.labelColumn);break;case"Hot Decking":e=JSON.parse(JSON.stringify(n.data4Analyse)),e=Q(e,t),e=ee(e,n.labelColumn);break;default:e=JSON.parse(JSON.stringify(n.data4Analyse))}if(0!==v){o("anomalyDataPercentage",v);var h=oe(e,v,[n.labelColumn]);o("data4Analyse",h.result),j(h)}else o("data4Analyse",e)}}else o("finishChoose",!1)},name:"isFinishChoose"}),label:"Finish"})),x?r.a.createElement(ge,{removedElement:x.removedElement,columns:n.column,hint:x.hint}):""):"")},ve=a(392),ye=a.n(ve),Ce=function(e,t,a,n,o,l){return r.a.createElement(ye.a,{key:l+o+t,data:e,layout:{plot_bgcolor:"rgba(255,255,255,0)",paper_bgcolor:"rgba(255,255,255,0)",height:n,xaxis:{title:{text:o,font:{family:"Courier New, monospace",size:18,color:"#7f7f7f"}}},yaxis:{title:{text:l,font:{family:"Courier New, monospace",size:18,color:"#7f7f7f"}}}}})},Ee=function(e,t,a){return r.a.createElement(ye.a,{key:t,data:e,layout:a})},xe=Object(i.a)((function(e){return{graphContainer:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"}}}));var je=function(){var e=h(),t=Object(m.a)(e,1)[0],a=xe(),n=r.a.useRef(null),o=r.a.useState([]),l=Object(m.a)(o,2),i=l[0],c=l[1];return r.a.useEffect((function(){function e(e,t){return e.map((function(e){return e[t]}))}if(n.current){var a,r=[],o=1,l={showline:!0,zeroline:!1,showgrid:!0,mirror:!0,ticklen:4,gridcolor:"#ffffff",tickfont:{size:10}},i={height:500,title:"Features Line Graph",showlegend:!1,plot_bgcolor:"rgba(255,255,255,0)",paper_bgcolor:"rgba(255,255,255,0)"},s=Object(M.a)(t.inputColumn);try{for(s.s();!(a=s.n()).done;){var u=a.value,m={x:e(t.data4Analyse,t.timeColumn),y:e(t.data4Analyse,u),xaxis:"x"+o,yaxis:"y"+o,mode:"lines",name:u};i["xaxis"+o]=Object.assign({domain:[.5,1],anchor:"y"+o,showticklabels:1===o},l),i["yaxis"+o]=Object.assign({domain:[0+(o-1)/t.inputColumn.length,o/t.inputColumn.length-.02],anchor:"x"+o,hoverformat:".2f"},l),r.push(m),o++}}catch(f){s.e(f)}finally{s.f()}return c([Ee(r,"miniline",i)]),function(){c([])}}}),[]),r.a.createElement("div",{ref:n,className:a.graphContainer},null===i||void 0===i?void 0:i.map((function(e){return e})))},we=Object(i.a)((function(e){return{graphContainer:{maxWidth:"90vw",overflowX:"scroll",display:"flex",justifyContent:"center",alignItems:"center"}}}));var Se=function(){var e=h(),t=Object(m.a)(e,1)[0],a=we(),n=r.a.useRef(null),o=r.a.useState([]),l=Object(m.a)(o,2),i=l[0],c=l[1];return r.a.useEffect((function(){if(n.current){var e=[];if(0!==t.labelColumn.length){var a,r=[],o="",l=Object(M.a)(t.labelColumn);try{var i=function(){var e=a.value,n={};n.x=t.data4Analyse.map((function(e){return e[t.timeColumn]})),n.y=t.data4Analyse.map((function(t){return t[e]})),n.type="line",n.name=e,0===o.length?o+=e:o+=", "+e,r.push(n)};for(l.s();!(a=l.n()).done;)i()}catch(s){l.e(s)}finally{l.f()}e.push(Ce(r,"line",400,500,t.timeColumn,o)),c(e)}return function(){c([])}}}),[]),r.a.createElement("div",{ref:n,className:a.graphContainer},null===i||void 0===i?void 0:i.map((function(e){return e})),r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"The graph focus on the change rate of the data. From the graph, you can know the trend of data changing. The graph supports zooming."},r.a.createElement(ie.a,{fontSize:"small"})),0!==t.inputColumn.length?r.a.createElement(je,null):"")},Oe=Object(i.a)((function(e){return{graphContainer:{maxWidth:"90vw",overflowX:"scroll",display:"flex",justifyContent:"center",alignItems:"center"}}}));var Ne=function(){var e=h(),t=Object(m.a)(e,1)[0],a=Oe(),n=r.a.useRef(null),o=r.a.useState([]),l=Object(m.a)(o,2),i=l[0],c=l[1];return r.a.useEffect((function(){if(n.current){var e=[];if(0!==t.labelColumn.length){var a=[],r="";if(0!==t.inputColumn.length){var o,l=Object(M.a)(t.inputColumn);try{var i=function(){var e=o.value,n={};n.y=t.data4Analyse.map((function(t){return t[e]})),n.x=t.data4Analyse.map((function(e){return e[t.timeColumn]})),n.type="bar",n.name=e,a.push(n)};for(l.s();!(o=l.n()).done;)i()}catch(u){l.e(u)}finally{l.f()}}else r=t.labelColumn[0];var s={};s.x=t.data4Analyse.map((function(e){return e[t.timeColumn]})),s.y=t.data4Analyse.map((function(e){return e[t.labelColumn]})),s.type="bar",s.name=t.labelColumn[0],a.push(s),e.push(Ce(a,"bar",800,500,t.timeColumn,r)),c(e)}return function(){c([])}}}),[]),r.a.createElement("div",{ref:n,className:a.graphContainer},null===i||void 0===i?void 0:i.map((function(e){return e})),r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"You can zoom and drag this graph to know the difference between different columns!"},r.a.createElement(ie.a,{fontSize:"small"})))},ke=Object(i.a)((function(e){return{graphContainer:{display:"flex",justifyContent:"center",alignItems:"center"}}}));var Me=function(){var e=h(),t=Object(m.a)(e,1)[0],a=ke(),n=r.a.useRef(null),o=r.a.useState([]),l=Object(m.a)(o,2),i=l[0],c=l[1];return r.a.useEffect((function(){if(n.current){var e=[];if(0!==t.labelColumn.length){if(0!==t.inputColumn.length){var a,r=[],o=Object(M.a)(t.inputColumn);try{var l=function(){var e=a.value,n={};n.y=t.data4Analyse.map((function(t){return t[e]})),n.x=t.data4Analyse.map((function(e){return e[t.timeColumn]})),n.type="histogram2d",n.name=e,r.push(n)};for(o.s();!(a=o.n()).done;)l()}catch(i){o.e(i)}finally{o.f()}e.push(Ce(r,"histogram2d",800,500,t.timeColumn,""))}c(e)}return function(){c([])}}}),[]),r.a.createElement("div",{ref:n,className:a.graphContainer},null===i||void 0===i?void 0:i.map((function(e){return e})),i?r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"From this graph, you can know the distribution of the data set clearer!"},r.a.createElement(ie.a,{fontSize:"small"})):"")},Ae=Object(i.a)((function(e){return{graphContainer:{display:"flex",justifyContent:"center",alignItems:"center"}}})),Fe=function(e,t){return isNaN(e)&&isNaN(t)?0:-parseFloat(e)+parseFloat(t)};var ze=function(){var e=h(),t=Object(m.a)(e,1)[0],a=Ae(),n=r.a.useRef(null),o=r.a.useState([]),l=Object(m.a)(o,2),i=l[0],c=l[1];return r.a.useEffect((function(){function e(e,t){return e.map((function(e){return e[t]}))}if(n.current){var a=[,].concat(Object(te.a)(e(t.data4Analyse,t.labelColumn))),r=t.labelColumn,o=[r].concat(Object(te.a)(e(t.data4Analyse,t.timeColumn)));t.data4Analyse.length>150&&(a=a.sort(Fe),a=[].concat(Object(te.a)(a.slice(0,75)),Object(te.a)(a.slice(-75,-1))),o=o.slice(0,150));var l=o.map((function(e){return e===r?"":r}));c([Ee([{type:"sunburst",labels:o,parents:l,values:a,outsidetextfont:{size:20,color:"#377eb8"},leaf:{opacity:.4},marker:{line:{width:2}}}],"Sunburst",{margin:{l:0,r:0,b:0,t:0},width:500,height:500,plot_bgcolor:"rgba(255,255,255,0)",paper_bgcolor:"rgba(255,255,255,0)"})])}return function(){c([])}}),[]),r.a.createElement("div",{ref:n,className:a.graphContainer},null===i||void 0===i?void 0:i.map((function(e){return e})),r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"This graph use a clear way to show you the difference of output column!"},r.a.createElement(ie.a,{fontSize:"small"})))},Te=Object(i.a)((function(e){return{graphContainer:{display:"flex",justifyContent:"center",alignItems:"center"}}}));var Le=function(){var e=h(),t=Object(m.a)(e,1)[0],a=Te(),n=r.a.useRef(null),o=r.a.useState([]),l=Object(m.a)(o,2),i=l[0],c=l[1];return r.a.useEffect((function(){function e(e,t){return e.map((function(e){return e[t]}))}if(n.current){var a,r=[{type:"parcoords",line:{showscale:!0,reversescale:!0,colorscale:"Jet",cmin:-4e3,cmax:-100},dimensions:[]}],o=0,l=Object(M.a)(t.inputColumn);try{for(l.s();!(a=l.n()).done;){var i=a.value,s=e(t.data4Analyse,i),u=void 0;0===o?(u={constraintrange:[Math.min.apply(Math,Object(te.a)(s)),(Math.max.apply(Math,Object(te.a)(s))-Math.min.apply(Math,Object(te.a)(s)))/2],range:[Math.min.apply(Math,Object(te.a)(s)),Math.max.apply(Math,Object(te.a)(s))],label:i,values:e(t.data4Analyse,i)},o++):u={range:[Math.min.apply(Math,Object(te.a)(s)),Math.max.apply(Math,Object(te.a)(s))],label:i,values:e(t.data4Analyse,i)},r[0].dimensions.push(u)}}catch(m){l.e(m)}finally{l.f()}return c([Ce(r,"parcoords",800,500,"","")]),function(){c([])}}}),[]),r.a.createElement(r.a.Fragment,null,t.inputColumn.length>1?r.a.createElement("div",{ref:n,className:a.graphContainer},null===i||void 0===i?void 0:i.map((function(e){return e})),r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"The graph focus on the relationship between the each feature. You can try to add, move and remove purple bar(s) to get more details."},r.a.createElement(ie.a,{fontSize:"small"}))):"")},Ie=a(391),De=a(390),Re=a(724),Pe=a(723),Be=Object(i.a)((function(e){return{tableContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}}));var Ge=function(){var e=h(),t=Object(m.a)(e,2),a=t[0],n=t[1],o=Be();return r.a.useEffect((function(){if(""===a.timeColumn){var e,t="",r=Object(M.a)(a.column);try{var o=function(){var n=e.value;if(""!==(t=a.data4Analyse.every((function(e){return isNaN(e[n])}))?n:""))return"break"};for(r.s();!(e=r.n()).done;){if("break"===o())break}}catch(l){r.e(l)}finally{r.f()}n("timeColumn",t)}}),[a.data4Analyse]),r.a.createElement("div",{className:o.tableContainer},a.data4Analyse?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,"Data Set Table (",a.data4Analyse.length," rows)"),r.a.createElement(W.a,{style:{maxWidth:1200,height:600,overflow:"auto",fontSize:"15px"},dataSource:a.data4Analyse,columns:a.column.map((function(e){var t,n,o,l,i,c,s;return{code:e,name:e,width:150,align:"center",title:r.a.createElement("h2",null,e,e!==a.timeColumn?r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"\n                                            max:       ".concat(null===(t=Object(Ie.a)(a.data4Analyse,(function(t){return parseFloat(t[e])})))||void 0===t?void 0:t.toFixed(2),"\t\n                                            min:       ").concat(null===(n=Object(De.a)(a.data4Analyse,(function(t){return parseFloat(t[e])})))||void 0===n?void 0:n.toFixed(2),"\t\n                                            sum:       ").concat(null===(o=Object(H.a)(a.data4Analyse,(function(t){return parseFloat(t[e])})))||void 0===o?void 0:o.toFixed(2),"\t\n                                            mean:      ").concat(null===(l=Object(ae.a)(a.data4Analyse,(function(t){return parseFloat(t[e])})))||void 0===l?void 0:l.toFixed(2),"\t\n                                            median:    ").concat(null===(i=Object(Re.a)(a.data4Analyse,(function(t){return parseFloat(t[e])})))||void 0===i?void 0:i.toFixed(2),"\t\n                                            variance:  ").concat(null===(c=Object(ne.a)(a.data4Analyse,(function(t){return parseFloat(t[e])})))||void 0===c?void 0:c.toFixed(2),"\t\n                                            deviation: ").concat(null===(s=Object(Pe.a)(a.data4Analyse,(function(t){return parseFloat(t[e])})))||void 0===s?void 0:s.toFixed(2),"\n                                            ")},r.a.createElement(ie.a,{fontSize:"small"})):"")}}))})):"")};var We=function(){var e=h(),t=Object(m.a)(e,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(Ge,null),r.a.createElement(be,null)),t.finishChoose?r.a.createElement(r.a.Fragment,null,r.a.createElement(Se,null),r.a.createElement(Ne,null),r.a.createElement(Me,null),r.a.createElement(Le,null),r.a.createElement(ze,null)):"")},qe=a(3),Je=a.n(qe),Ve=a(17),$e=a(729),_e=a(473),Xe=a.n(_e),He=a(474),Ye=a.n(He),Ze=a(476),Ue=a.n(Ze),Ke=a(475),Qe=a.n(Ke),et=a(478),tt=a.n(et),at=a(477),nt=a.n(at),rt=Object(i.a)({root:{width:250},input:{width:60}}),ot=function(e){var t=rt(),a=h(),n=Object(m.a)(a,2),o=n[0],l=n[1],i=e.type,c=e.min,s=e.max,u=e.step,f=e.defaultNum,d=r.a.useState(f),p=Object(m.a)(d,2),g=p[0],b=p[1];r.a.useEffect((function(){!function(e){switch(i){case"Window Size":l("windowSize",e);break;case"Number of Hidden Layer":l("hiddenLayers",e);break;case"Epochs":l("epochs",e);break;case"Learning Rate":l("learnRate",e);break;case"Training Dataset Size (%)":l("trainingDataSize",e);break;case"Dropout":l("dropout",e)}}(g)}),[o.finishSet]);return r.a.createElement("div",{className:t.root},r.a.createElement(O.a,{id:"input-slider",gutterBottom:!0,color:"secondary",variant:"body2"},i),r.a.createElement($e.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement($e.a,{item:!0},"Window Size"===i?r.a.createElement(Xe.a,null):"Number of Hidden Layer"===i?r.a.createElement(Ye.a,null):"Epochs"===i?r.a.createElement(Qe.a,null):"Learning Rate"===i?r.a.createElement(Ue.a,null):"Dropout"===i?r.a.createElement(nt.a,null):r.a.createElement(tt.a,null)),r.a.createElement($e.a,{item:!0,xs:!0},r.a.createElement(V.a,{value:"number"===typeof g?g:f,onChange:function(e,t){o.finishSet||b(t)},min:c,max:s,step:u,"aria-labelledby":"input-slider"})),r.a.createElement($e.a,{item:!0},r.a.createElement(I.a,{className:t.input,value:g,margin:"dense",onChange:function(e){o.finishSet||b(""===e.target.value?"":Number(e.target.value))},onBlur:function(){o.finishSet||(g<c?b(c):g>s&&b(s))},inputProps:{step:u,min:c,max:s,type:"number","aria-labelledby":"input-slider"}}))))},lt=a(68),it=a(269);function ct(e,t){var a=Math.max.apply(Math,Object(te.a)(e)),n=Math.min.apply(Math,Object(te.a)(e));e=e.map((function(e){return(e-n)/(a-n)}));for(var r=[],o=0;o<=e.length-t-1;o++)r.push({x:e.slice(o,o+t).map((function(e){return[e]})),y:e[o+t+1]});return r}var st=function(){var e=Object(Ve.a)(Je.a.mark((function e(t,a,n,r,o,l,i){var c,s,u,m,f,d,p,h,g,b,v,y,C,E,x;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("trainSimpleModel"),c=ct(t,a),s=c.map((function(e){return e.x})),u=c.map((function(e){return e.y})),m=s.slice(0,Math.floor(l/100*s.length)),f=u.slice(0,Math.floor(l/100*u.length)),1,p=[(d=a)/1,1],h=a,g=d,1,b=lt.d(m),v=lt.c(f,[f.length,1]).reshape([f.length,1]),y=lt.b(),1!==o){for(y.add(lt.a.lstm({units:d,inputShape:p,returnSequences:!0})),C=1;C<o-1;C++)y.add(lt.a.lstm({units:d,returnSequences:!0}));y.add(lt.a.lstm({units:d,returnSequences:!1}))}else y.add(lt.a.lstm({units:d,inputShape:p,returnSequences:!1}));return y.add(lt.a.dropout({rate:i})),y.add(lt.a.dense({units:1,inputShape:[g]})),y.compile({optimizer:lt.e.adam(r),loss:"meanSquaredError"}),e.next=23,y.fit(b,v,{batchSize:h,epochs:n,callbacks:it.show.fitCallbacks({name:"RESULTs"},["loss","acc"],{callbacks:["onEpochEnd","onBatchEnd"]})});case 23:return E=e.sent,x={name:"Model Summary",tab:"Model Inspection"},it.show.modelSummary(x,y),e.abrupt("return",{model:y,modelResult:E});case 27:case"end":return e.stop()}}),e)})));return function(t,a,n,r,o,l,i){return e.apply(this,arguments)}}(),ut=function(){var e=Object(Ve.a)(Je.a.mark((function e(t,a,n,r,o,l,i,c,s){var u,m,f,d,p,h,g,b,v,y,C,E,x,j,w,S,O,N,k,A,F,z,T,L,I,D;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("trainComplexModel"),u=[],m=Object(M.a)(i);try{for(d=function(){var e=f.value;u.push(ct(t.map((function(t){return parseFloat(t[e])})),a).map((function(e){return e.x})))},m.s();!(f=m.n()).done;)d()}catch(R){m.e(R)}finally{m.f()}for(p=ct(t.map((function(e){return parseFloat(e[c])})),a),u.push(p.map((function(e){return e.x}))),h=[],g=p.map((function(e){return e.y})),b=0;b<u[0].length;b++){for(v=[],y=0;y<u[0][0].length;y++){for(C=[],E=0;E<u.length;E++)C.push.apply(C,Object(te.a)(u[E][b][y]));v.push(C)}h.push(v)}if(x=h.slice(0,Math.floor(l/100*h.length)),j=g.slice(0,Math.floor(l/100*g.length)),w=a,S=a,O=i.length+1,N=[S,O],k=a,A=w,1,F=lt.d(x),z=lt.c(j,[j.length,1]).reshape([j.length,1]),T=lt.b(),1!==o){for(T.add(lt.a.lstm({units:w,inputShape:N,returnSequences:!0})),L=1;L<o-1;L++)T.add(lt.a.lstm({units:w,returnSequences:!0}));T.add(lt.a.lstm({units:w,returnSequences:!1}))}else T.add(lt.a.lstm({units:w,inputShape:N,returnSequences:!1}));return T.add(lt.a.dropout({rate:s})),T.add(lt.a.dense({units:1,inputShape:[A]})),T.compile({optimizer:lt.e.adam(r),loss:"meanSquaredError"}),e.next=28,T.fit(F,z,{batchSize:k,epochs:n,callbacks:it.show.fitCallbacks({name:"RESULTs"},["loss"],{callbacks:["onEpochEnd","onBatchEnd"]})});case 28:return I=e.sent,D={name:"Model Summary",tab:"Model Inspection"},it.show.modelSummary(D,T),e.abrupt("return",{model:T,modelResult:I});case 32:case"end":return e.stop()}}),e)})));return function(t,a,n,r,o,l,i,c,s){return e.apply(this,arguments)}}(),mt=function(e,t,a,n,r,o){var l;if(n){var i,c=[],s=Object(M.a)(r);try{var u=function(){var t=i.value;c.push(ct(e.map((function(e){return parseFloat(e[t])})),a).map((function(e){return e.x})))};for(s.s();!(i=s.n()).done;)u()}catch(y){s.e(y)}finally{s.f()}var m=ct(e.map((function(e){return parseFloat(e[o])})),a);c.push(m.map((function(e){return e.x})));for(var f=[],d=0;d<c[0].length;d++){for(var p=[],h=0;h<c[0][0].length;h++){for(var g=[],b=0;b<c.length;b++)g.push.apply(g,Object(te.a)(c[b][d][h]));p.push(g)}f.push(p)}l=lt.d(f)}else e=(e=ct(e,a)).map((function(e){return e.x})),l=lt.d(e);var v=t.predict(l);return Array.from(v.dataSync())},ft=Object(i.a)({root:{marginTop:"10px",marginBottom:"10px",width:"100%",display:"flex",justifyContent:"center"},paper:{backgroundColor:"#f2e8cf",width:"90%",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},buttons:{display:"flex",justifyContent:"space-around",alignItems:"center",width:"800px"}}),dt=Object(G.a)((function(e){return{root:{width:42,height:26,padding:0,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#52d869",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}}))((function(e){var t=e.classes,a=Object(A.a)(e,["classes"]);return r.a.createElement(F.a,Object.assign({focusVisibleClassName:t.focusVisible,disableRipple:!0,classes:{root:t.root,switchBase:t.switchBase,thumb:t.thumb,track:t.track,checked:t.checked}},a))}));var pt=function(){var e=h(),t=Object(m.a)(e,2),a=t[0],n=t[1],o=ft(),l=r.a.useState(!1),i=Object(m.a)(l,2),s=i[0],u=i[1],f=function(){var e=Object(Ve.a)(Je.a.mark((function e(){var t,r,o,l,i,c,s,m;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),t=a.labelColumn,0===a.inputColumn.length){e.next=12;break}return e.next=5,ut(a.data4Analyse,a.windowSize,a.epochs,a.learningRate,a.hiddenLayers,a.trainingDataSize,a.inputColumn,t,a.dropout);case 5:r=e.sent,o=r.model,l=r.modelResult,n("model",o),n("modelResult",l),e.next=20;break;case 12:return i=a.data4Analyse.map((function(e){return parseFloat(e[t])})),e.next=15,st(i,a.windowSize,a.epochs,a.learningRate,a.hiddenLayers,a.trainingDataSize,a.dropout);case 15:c=e.sent,s=c.model,m=c.modelResult,n("model",s),n("modelResult",m);case 20:u(!1);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(Ve.a)(Je.a.mark((function e(){return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.model.save("downloads://model");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:o.root},a.finishChoose?r.a.createElement(c.a,{elevation:3,className:o.paper},r.a.createElement(O.a,{color:"secondary",variant:"subtitle2"},"If you do not know the means or these chooses",r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"In general, a precise model needs bigger window size, more hidden layers, more epochs, less learning rate, and more data! But please consider these options according the requirements and machine performance! If the model is overfitting, please consider to increase dropout percentage!"},r.a.createElement(ie.a,{fontSize:"small"})),", Please use the default values!!"),r.a.createElement(O.a,{variant:"h5"},"Model training setting:"),[{type:"Window Size",min:1,max:100,defaultNum:20,step:1},{type:"Number of Hidden Layer",min:1,max:50,defaultNum:4,step:1},{type:"Epochs",min:5,max:500,defaultNum:20,step:1},{type:"Learning Rate",min:.01,max:10,defaultNum:.05,step:.01},{type:"Training Dataset Size (%)",min:1,max:100,defaultNum:80,step:1},{type:"Dropout",min:0,max:1,defaultNum:0,step:.1}].map((function(e,t){return r.a.createElement(ot,{key:t,type:e.type,min:e.min,max:e.max,defaultNum:e.defaultNum,step:e.step})})),r.a.createElement(z.a,{control:r.a.createElement(dt,{checked:a.finishSet,onChange:function(){return n("finishSet",!a.finishSet)},name:"isFinish"}),label:"Finish"}),r.a.createElement("div",{className:o.buttons},r.a.createElement(g.a,{variant:"contained",color:"primary",disabled:!(a.finishSet&&""===a.model&&!s),onClick:f},"Start Training"),r.a.createElement(g.a,{variant:"contained",color:"secondary",disabled:""===a.model,onClick:function(){n("model",""),n("modelResult","")}},"Clear exist model"),r.a.createElement(g.a,{variant:"contained",disabled:""===a.model,onClick:d},"Model Download"))):"")},ht=Object(i.a)((function(e){return{graphContainer:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},card:{marginTop:"10px",height:"50px",display:"flex",backgroundColor:"skyblue",alignContent:"center",justifyContent:"center"}}}));var gt=function(){var e=h(),t=Object(m.a)(e,1)[0],a=ht(),n=r.a.useState(null),o=Object(m.a)(n,2),l=o[0],i=o[1],c=r.a.useState(null),s=Object(m.a)(c,2),u=s[0],f=s[1];return r.a.useEffect((function(){if(""!==t.model)if(0===t.inputColumn.length){for(var e=t.labelColumn,a=t.data4Analyse.map((function(t){return parseFloat(t[e])})),n=Math.max.apply(Math,Object(te.a)(a)),r=Math.min.apply(Math,Object(te.a)(a)),o=[],l=[],c=[],s=0;s<t.windowSize+1;s++)l.push(NaN);for(var u=l.concat(mt(a,t.model,t.windowSize).map((function(e){return e*(n-r)+r}))),m=Math.floor(u.length*t.trainingDataSize/100),d=m;d<t.data4Analyse.length;d++)c.push(NaN);for(var p=[],h=0;h<m;h++)p.push(NaN);o.push({x:t.data4Analyse.map((function(e){return e[t.timeColumn]})),y:a,type:"line",name:"Origin Data"}),o.push({x:t.data4Analyse.map((function(e){return e[t.timeColumn]})),y:u.slice(0,m).concat(c),type:"line",name:"Given by this Model"}),o.push({x:t.data4Analyse.map((function(e){return e[t.timeColumn]})),y:p.concat(u.slice(m,-1)),type:"line",name:"Validation of this Model"}),i(o),f(u[u.length-1])}else{for(var g=t.labelColumn,b=t.data4Analyse.map((function(e){return parseFloat(e[g])})),v=Math.max.apply(Math,Object(te.a)(b)),y=Math.min.apply(Math,Object(te.a)(b)),C=[],E=[],x=[],j=0;j<t.windowSize+1;j++)E.push(NaN);for(var w=E.concat(mt(t.data4Analyse,t.model,t.windowSize,!0,t.inputColumn,t.labelColumn).map((function(e){return e*(v-y)+y}))),S=Math.floor(w.length*t.trainingDataSize/100),O=S;O<t.data4Analyse.length;O++)x.push(NaN);for(var N=[],k=0;k<S;k++)N.push(NaN);C.push({x:t.data4Analyse.map((function(e){return e[t.timeColumn]})),y:b,type:"line",name:"Origin Data"}),C.push({x:t.data4Analyse.map((function(e){return e[t.timeColumn]})),y:w.slice(0,S).concat(x),type:"line",name:"Given by this Model"}),C.push({x:t.data4Analyse.map((function(e){return e[t.timeColumn]})),y:N.concat(w.slice(S,-1)),type:"line",name:"Validation of this Model"}),i(C),f(w[w.length-1])}return function(){i(null),f(null)}}),[t.model]),r.a.createElement("div",{className:a.graphContainer},l?Ce(l,"line",800,500,t.timeColumn,t.labelColumn[0]):"",u?r.a.createElement(w.a,{className:a.card},r.a.createElement(S.a,null,"At the next time node, ".concat(t.labelColumn[0]," will be ").concat(u))):"")},bt=a(499),vt=Object(i.a)((function(e){return{root:{margin:"30px auto",width:"90vw",backgroundImage:"linear-gradient(to bottom, #5b61e5 0%, #e9c1db 49%, #ffe8c9 100%)"}}}));var yt=function(){var e=vt();return r.a.useEffect((function(){Object(bt.a)({redirect:"https://github.com/GiorgioPeng"})})),r.a.createElement(p,null,r.a.createElement(c.a,{className:e.root},r.a.createElement(k,null),r.a.createElement(x,null),r.a.createElement(We,null),r.a.createElement(pt,null),r.a.createElement(gt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(yt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[531,1,2]]]);
//# sourceMappingURL=main.8217fa64.chunk.js.map