(this.webpackJsonpsombra=this.webpackJsonpsombra||[]).push([[0],{531:function(e,a,t){e.exports=t(663)},536:function(e,a,t){},537:function(e,a,t){},581:function(e,a){},582:function(e,a){},590:function(e,a){},593:function(e,a){},594:function(e,a){},663:function(e,a,t){"use strict";t.r(a);var n=t(2),r=t.n(n),o=t(63),i=t.n(o),l=(t(536),t(711)),c=t(665),s=(t(537),t(20)),u=t(387),m=t(9),f=Object(n.createContext)(null),d={data4Analyse:"",proprocessWay:"Delelt Null",column:[],timeColumn:"",labelColumn:"",inputColumn:[],finishChoose:!1,windowSize:20,hiddenLayers:4,epochs:20,learnRate:.05,trainingDataSize:80,finishSet:!1,model:"",modelResult:"",anomalyDataPercentage:0};function p(e){var a=e.children,t=Object(n.useState)(d),o=Object(m.a)(t,2),i=o[0],l=o[1];return r.a.createElement(f.Provider,{value:[i,function(e,a){console.log(e,a),l((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(s.a)({},e,a))}))},function(){l(d)}]},a)}function h(){return Object(n.useContext)(f)}var g=t(462),b=t(714),v=t(463),y=t.n(v),C=t(499),x=function(e,a){try{var t=new FileReader;t.readAsText(e,"utf-8"),t.addEventListener("load",(function(){var e=C.a(t.result,(function(e){return e}));a("column",e.columns),a("data4Analyse",e)}))}catch(n){console.log(n)}},E=Object(l.a)((function(e){return{root:{"& > *":{}},input:{display:"none"},uploadButton:{marginTop:"10px",marginBottom:"10px",height:40,width:250,display:"flex",justifyContent:"center",alignItems:"center",position:"relative",left:"50%",cursor:"pointer",transform:"translateX(-50%)","& > p":{fontSize:"14px",position:"relative"},"&:hover":{"&:after":{content:"'Only .csv format supporting now!'",position:"absolute",fontSize:"18px",color:"red",left:"150%",transform:"translateX(-50%)",whiteSpace:"nowrap"}}}}}));var j=function(){var e=E(),a=h(),t=Object(m.a)(a,3),n=t[1],o=t[2],i=r.a.createRef();return r.a.createElement("div",{className:e.root},r.a.createElement("input",{accept:".csv",ref:i,onChange:function(){o();var e=i.current.files[0];x(e,n)},className:e.input,id:"icon-button-file",type:"file"}),r.a.createElement("label",{className:e.uploadButton,htmlFor:"icon-button-file"},r.a.createElement(b.a,{variant:"contained",color:"primary",component:"span",startIcon:r.a.createElement(y.a,null)},"Upload Dataset")))};var w=function(){return r.a.createElement("svg",{class:"canvas",viewBox:"0 0 1920 1080",preserveAspectRatio:"xMaxYMid slice",version:"1.1"},r.a.createElement("rect",{width:"1920",height:"1080",fill:"hsl(153, 65%, 15%)"}),r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"0.5",y1:"0",x2:"0",y2:"1",id:"SvgjsLinearGradient1196"},r.a.createElement("stop",{stopColor:"#288a5e",offset:"0"}),r.a.createElement("stop",{stopColor:"#060c14",offset:"0.1"})),r.a.createElement("linearGradient",{x1:"0.5",y1:"0",x2:"0",y2:"1",id:"SvgjsLinearGradient1197"},r.a.createElement("stop",{stopColor:"#288a5e",offset:"0"}),r.a.createElement("stop",{stopColor:"#060c14",offset:"0.22857142857142856"})),r.a.createElement("linearGradient",{x1:"0.5",y1:"0",x2:"0",y2:"1",id:"SvgjsLinearGradient1198"},r.a.createElement("stop",{stopColor:"#288a72",offset:"0"}),r.a.createElement("stop",{stopColor:"#060914",offset:"0.3571428571428571"})),r.a.createElement("linearGradient",{x1:"0.5",y1:"0",x2:"0",y2:"1",id:"SvgjsLinearGradient1199"},r.a.createElement("stop",{stopColor:"#c0f2ef",offset:"0"}),r.a.createElement("stop",{stopColor:"#4249d7",offset:"0.48571428571428565"})),r.a.createElement("linearGradient",{x1:"0.5",y1:"0",x2:"0",y2:"1",id:"SvgjsLinearGradient1200"},r.a.createElement("stop",{stopColor:"#c0f2d1",offset:"0"}),r.a.createElement("stop",{stopColor:"#42a3d7",offset:"0.6142857142857142"})),r.a.createElement("linearGradient",{x1:"0.5",y1:"0",x2:"0",y2:"1",id:"SvgjsLinearGradient1201"},r.a.createElement("stop",{stopColor:"#c0f2db",offset:"0"}),r.a.createElement("stop",{stopColor:"#4285d7",offset:"0.7428571428571429"})),r.a.createElement("linearGradient",{x1:"0.5",y1:"0",x2:"0",y2:"1",id:"SvgjsLinearGradient1202"},r.a.createElement("stop",{stopColor:"#c0f2e5",offset:"0"}),r.a.createElement("stop",{stopColor:"#4267d7",offset:"0.8714285714285713"}))),r.a.createElement("path",{d:"M0,-506.77340543269145C59.26145827850629,-496.7278828814427,255.4901428494137,-482.7098073624625,355.5687496710377,-446.5002701251991C455.64735649266174,-410.2907328879357,506.7034076171448,-316.8838256930635,600.471640929744,-289.51618200911093C694.2398742423433,-262.14853832515837,804.9731422179036,-308.0046646992008,918.178149546633,-282.29440802148355C1031.3831568753624,-256.5841513437663,1162.4496268103608,-175.173613368331,1279.7016849021204,-135.25464194280738C1396.95374299388,-95.33567051728377,1514.9741122475443,-70.86078555336121,1621.690498097191,-42.78057946834189C1728.4068839468378,-14.700373383322567,1870.2817496828652,20.55873222803347,1920,33.22659456730854L 1920 1080 L 0 1080 Z",fill:"url(#SvgjsLinearGradient1196)"}),r.a.createElement("path",{d:"M0,-433.76239083957404C51.51882549960332,-419.92018418711194,204.3030325319853,-376.4085157560768,309.1129529976199,-350.70915092480146C413.9228734632545,-325.00978609352615,513.5249113995557,-314.91562582691574,628.8595227938076,-279.56620185192213C744.1941341880596,-244.21677787692855,889.3950828445552,-181.85913418883405,1001.1206213631317,-138.6126070748399C1112.8461598817082,-95.36607996084575,1194.8412981664055,-42.22443493434153,1299.2127539052667,-20.087039167957244C1403.584209644128,2.0503565984270438,1523.8848147805102,-29.223292912217097,1627.349355796299,-5.7882324765341835C1730.813896812088,17.64682795914873,1871.2248926327165,99.47139745902784,1920,120.52332344614025L 1920 1080 L 0 1080 Z",fill:"url(#SvgjsLinearGradient1197)"}),r.a.createElement("path",{d:"M0,-321.2434050246518C68.34803429983727,-309.61691829513273,288.06772869355746,-296.0564900738598,410.08820579902357,-251.48448464753736C532.1086829044897,-206.91247922121494,606.2475533289844,-100.66107890774252,732.1228626327968,-53.8113724667172C857.9981719366092,-6.961666025691883,1036.5882467850142,1.5852466394847262,1165.340061621898,29.613753998614577C1294.0918764587818,57.64226135774443,1378.857095257749,78.07396009670155,1504.6337516540993,114.35967168806192C1630.4104080504496,150.64538327942228,1850.77229194235,225.1666315703243,1920,247.3280235467768L 1920 1080 L 0 1080 Z",fill:"url(#SvgjsLinearGradient1198)"}),r.a.createElement("path",{d:"M0,-151.28081860349127C64.63627607949805,-139.3377360851051,257.46251723356755,-108.60016398984862,387.8176564769883,-79.62232349317415C518.1727957204091,-50.644482996499676,655.6066461721915,-13.846940621955746,782.1308354605245,22.586224376555563C908.6550247488575,59.01938937506687,1010.9980616221864,100.15664565431041,1146.9627922069865,138.9766664978937C1282.9275227917865,177.79668734147697,1469.0796843371563,206.73973981209554,1597.9192189693251,255.5063494380552C1726.758753601494,304.27295906401486,1866.3198698282208,402.2313284510522,1920,431.5763242536516L 1920 1080 L 0 1080 Z",fill:"url(#SvgjsLinearGradient1199)"}),r.a.createElement("path",{d:"M0,-18.98976840299884C69.82069828158214,-4.866900089992269,295.042955853834,31.455620732398877,418.92418968949283,65.7474414750406C542.8054235251517,100.03926221768234,623.890400474473,146.4029727090791,743.287403013953,186.76115605285153C862.6844055534331,227.11933939662396,998.1251575056722,268.71606943001797,1135.306204926373,307.8965415376752C1272.487252347074,347.07701364533244,1435.591388359221,376.8012308317643,1566.3736875381587,421.8439886987948C1697.1559867170965,466.8867465658253,1861.0622812563597,552.1015720663478,1920,578.1530887398584L 1920 1080 L 0 1080 Z",fill:"url(#SvgjsLinearGradient1200)"}),r.a.createElement("path",{d:"M0,88.88394890239394C61.025141337539424,107.22876929202857,237.40453725003468,161.83148168933016,366.15084802523654,198.95287124020177C494.89715880043843,236.07426079107339,643.146797949468,267.266301126298,772.4778646512111,311.61228620762364C901.8089313529542,355.9582712889493,1018.3670202966273,422.0071690273888,1142.1372482356953,465.02878172815565C1265.9074761747634,508.0503944289225,1385.4554403249022,530.5280059784232,1515.0992322856196,569.7419624122248C1644.743024246337,608.9559188460264,1852.51653871427,678.5507606778419,1920,700.3125203309654L 1920 1080 L 0 1080 Z",fill:"url(#SvgjsLinearGradient1201)"}),r.a.createElement("path",{d:"M0,277.48115438388896C45.18154184087917,291.3291738427334,185.2407875318138,329.2574903654787,271.08925104527503,360.5692711369554C356.9377145587363,391.88105190843214,417.9628245160045,431.5898203645502,515.0907810807673,465.3518390127491C612.2187376455302,499.11385766094804,753.4063448829422,536.1504237006809,853.8569904338519,563.141383026149C954.3076359847616,590.1323423516171,1028.3445250262716,606.6675947480468,1117.7946543862254,627.2975949655579C1207.244783746179,647.927595183069,1307.1092368713564,650.0498435564526,1390.5577665935743,686.9213843312158C1474.0062963157923,723.792925105979,1530.2454604851284,812.4811636529769,1618.4858327195327,848.5268396141367C1706.726204953937,884.5725155752966,1869.7476387865888,894.0840066841685,1920,903.1954400981748L 1920 1080 L 0 1080 Z",fill:"url(#SvgjsLinearGradient1202)"}))},O=t(716),S=t(717),N=t(666),k=Object(l.a)((function(e){return{root:{marginBottom:0},media:{height:400,overflow:"hidden"}}}));var M=function(){var e=k();return r.a.createElement(O.a,{className:e.root},r.a.createElement("div",{className:e.media},r.a.createElement(w,null)),r.a.createElement(S.a,null,r.a.createElement(N.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Privacy Preserving Time Series Data Mining Platform based on Front-End"),r.a.createElement(N.a,{variant:"body2",color:"textSecondary",component:"p"},"In the platform, users can upload their own datasets to do data mining without care about the privacy leaking problem. Because the platform is only depende on the front-end, that mean when the page finishes loading, users can run the platform offline. In this platform, Users can finish data preprocess, data visualization, machine learning(model training and prediction). There is a really high freedom of the platform, users can do data mining by different method according different dataset. Now, have a try!")))},A=t(6),F=t(354),z=t(732),L=t(728),T=t(731),I=t(735),R=t(718),P=t(736),D=Object(l.a)((function(e){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2,backgroundColor:"#f8edeb"}}})),G={PaperProps:{style:{backgroundColor:"#fcefb4",maxHeight:224,width:300}}},B=function(e){var a=e.value,t=e.f,n=e.element,o=e.multiple,i=e.disabled,l=D();return r.a.createElement(T.a,{disabled:i,multiple:o,value:a,onChange:t,input:r.a.createElement(R.a,null),MenuProps:G,renderValue:function(e){return r.a.createElement("div",{className:l.chips},e.map?e.map((function(e){return r.a.createElement(I.a,{key:e,label:e,className:l.chip})})):r.a.createElement("div",{className:l.chips},r.a.createElement(I.a,{key:e,label:e,className:l.chip})))}},n.map((function(e,a){return r.a.createElement(P.a,{key:a,value:e},e)})))},W=t(43),q=t(733),J=t(727),V=t(734),$=function(e,a,t,n,r){return(r-n)/(t-a)*(e-a)+n},_=function(e,a){var t=[],n=[];if(e.filter((function(r,o){if(isNaN(r[a])||!r[a]){t.push(o);for(var i={},l=o-1;l>=0;l--)if(isNaN(e[l][a])||!r[a]){i.last=l;break}for(var c=o+1;c<e.length;c++)if(isNaN(e[c][a])||!r[a]){i.next=c;break}void 0===i.last&&(i.last=-1),void 0===!i.next&&(i.next=-1),n.push(i)}return""})),e.length>1)for(var r=0;r<t.length;r++)-1!==n[r].last?-1!==n[r].next?e[t[r]][a]=$(t[r],parseInt(n[r].last),parseInt(n[r].next),parseFloat(e[n[r].last][a]),parseFloat(e[n[r].next][a])):e[t[r]][a]=e[n[r].last][a]:e[t[r]][a]=e[n[r].next][a];return e},X=function(e,a){var t=[];return e.filter((function(e,n){return!isNaN(e[a])&&e[a]||t.push(n),""})),t.forEach((function(n){for(var r=0,o=0,i=0;i<e.length;i++)-1===t.indexOf(i)&&(r+=parseFloat(e[i][a])/Math.abs(n-i),o+=1/Math.abs(n-i));e[n][a]=r/o})),e},H=t(721),Z=function(e,a,t){var n=e.length,r=Object(H.a)(e,(function(e){return parseFloat(e[a])})),o=Object(H.a)(e,(function(e){return parseFloat(e[t])})),i=0;e.forEach((function(e){isNaN(e[a])||isNaN(e[t])||!e[a]||!e[t]||(i+=parseFloat(e[a])*parseFloat(e[t]))}));var l=0,c=0;e.forEach((function(e){!isNaN(e[a])&&!isNaN(e[t])&&e[a]&&e[t]&&(l+=Math.pow(parseFloat(e[a]),2),c+=Math.pow(parseFloat(e[t]),2))}));var s=(i-r*o/n)/Math.sqrt((l-Math.pow(r,2)/n)*(c-Math.pow(o,2)/n));return isNaN(s)?0:s},Y=function(e,a){for(var t=[],n=0;n<a.length;n++){for(var r=[],o=0;o<a.length;o++)o!==n&&r.push(Z(e,a[n],a[o]));r.splice(n,0,0),t.push(U(r))}return t};function U(e){if(0===e.length)return-1;for(var a=Math.abs(e[0]),t=0,n=1;n<e.length;n++)Math.abs(e[n])>a&&(t=n,a=Math.abs(e[n]));return{columnIndex:t,coefficient:e[t]}}var K=function(e,a,t){var n=-1,r=a[e];if(t){for(var o=Number.MAX_SAFE_INTEGER,i=0;i<a.length;i++)if(!isNaN(a[i])&&a[i]&&i!==e){var l=Math.abs(parseFloat(a[i])-r);l<o&&(o=l,n=i)}}else for(var c=Number.MIN_SAFE_INTEGER,s=0;s<a.length;s++)if(!isNaN(a[s])&&a[s]&&s!==e){var u=Math.abs(parseFloat(a[s])-r);u>c&&(c=u,n=s)}return n},Q=function(e,a){var t,n=Y(e,a),r=Object(A.a)(a);try{var o=function(){var r=t.value,o=[];e.filter((function(e,a){return!isNaN(e[r])&&e[r]||o.push(a),""}));var i=n.shift(),l=i.columnIndex,c=i.coefficient;if(0===o.length)return"continue";o.forEach((function(t){var n=e.map((function(e){return e[a[l]]})),o=K(t,n,c>0);e[t][r]=e[o][r]}))};for(r.s();!(t=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}return e},ee=function(e,a){var t=[];return e.filter((function(e,n){return!isNaN(e[a])&&e[a]||t.push(n),""})),t.forEach((function(a,t){e.splice(a-t,1)})),e},ae=t(13),te=t(722),ne=t(464),re=function(e,a,t){a=1-a/100;var n={},r=[],o=Object(te.a)(e,(function(e){return parseFloat(e[t])})),i=Object(ne.a)(e,(function(e){return parseFloat(e[t])})),l=Math.sqrt(i/a);n.top=o+l,n.bottom=o-l;var c,s=0,u=Object(A.a)(e);try{for(u.s();!(c=u.n()).done;){var m=c.value;(m[t]<n.bottom||m[t]>n.up)&&r.push(s),s++}}catch(f){u.e(f)}finally{u.f()}return r},oe=function(e,a,t){var n,r=JSON.parse(JSON.stringify(e)),o=[],i=Object(A.a)(t);try{for(i.s();!(n=i.n()).done;){var l,c=n.value;(l=o).push.apply(l,Object(ae.a)(re(e,a,c)))}}catch(f){i.e(f)}finally{i.f()}o=Object(ae.a)(new Set(o));var s,u=Object(A.a)(o);try{for(u.s();!(s=u.n()).done;){var m=s.value;r.splice(m,1)}}catch(f){u.e(f)}finally{u.f()}return r},ie=t(81),le=t.n(ie),ce=t(730),se=t(500),ue=Object(l.a)((function(e){return{root:{marginTop:"20px",padding:"5px",backgroundColor:"#edf2fb"},container:{display:"flex",justifyContent:"space-around",alignItems:"center"}}})),me=function(e){var a=e.relativeArr,t=r.a.useRef(),n=ue();return r.a.useEffect((function(){var e={nodes:[],edges:[]};a.forEach((function(a,t,n){Math.abs(a.pearsonCoefficient)>.4&&e.edges.push({source:0,target:t+1,value:0===a.pearsonCoefficient?0:1/a.pearsonCoefficient,inCutEdge:Math.abs(a.pearsonCoefficient)>.7}),0===t&&e.nodes.push({name:a.column1,index:0,value:1,group:0}),e.nodes.push({name:a.column2,index:t+1,value:1,group:t+1})})),t.current&&0!==a.length&&Object(se.a)(t.current,{$schema:"./schema/vega/v5.json",width:600,height:400,padding:5,autosize:"fit",signals:[{name:"cx",update:"width / 2"},{name:"cy",update:"height / 2"},{description:"State variable for active node fix status.",name:"fix",value:!1,on:[{events:"text:mouseout[!event.buttons], window:mouseup",update:"false"},{events:"text:mouseover",update:"fix || true"},{events:"[text:mousedown, window:mouseup] > window:mousemove!",update:"xy()",force:!0}]},{description:"Graph node most recently interacted with.",name:"node",value:null,on:[{events:"text:mouseover",update:"fix === true ? item() : node"}]},{description:"Flag to restart Force simulation upon data changes.",name:"restart",value:!1,on:[{events:{signal:"fix"},update:"fix && fix.length"}]}],data:[{name:"node-data",values:e.nodes},{name:"link-data",values:e.edges}],scales:[{name:"color",type:"ordinal",domain:{data:"node-data",field:"group"},range:{scheme:"redpurple"}},{name:"colorEdge",type:"quantize",domain:{data:"link-data",field:"value"},range:{scheme:"viridis"}}],marks:[{name:"nodes",type:"text",zindex:1,from:{data:"node-data"},on:[{trigger:"fix",modify:"node",values:"fix === true ? {fx: node.x, fy: node.y} : {fx: fix[0], fy: fix[1]}"},{trigger:"!fix",modify:"node",values:"{fx: null, fy: null}"}],encode:{enter:{fill:{scale:"color",field:"group"},text:{field:"name"},fontSize:{value:16},fontWeight:{value:600}},update:{cursor:{value:"pointer"}}},transform:[{type:"force",iterations:300,restart:{signal:"restart"},signal:"force",forces:[{force:"center",x:{signal:"cx"},y:{signal:"cy"}},{force:"collide"},{force:"nbody"},{force:"link",links:"link-data"}]}]},{type:"path",from:{data:"link-data"},interactive:!1,encode:{update:{stroke:{scale:"colorEdge",field:"value"},strokeWidth:{value:1},opacity:{value:.9}}},transform:[{type:"linkpath",require:{signal:"force"},shape:"line",sourceX:"datum.source.x",sourceY:"datum.source.y",targetX:"datum.target.x",targetY:"datum.target.y"}]}]})}),[a]),r.a.createElement(r.a.Fragment,null,0!==a.length?r.a.createElement(c.a,{elevation:3,className:n.root},r.a.createElement(N.a,{variant:"subtitle2",color:"textSecondary",style:{textAlign:"center"}},"Correlation Between Each Feature and Output"),r.a.createElement("div",{className:n.container},r.a.createElement("div",{ref:t}),r.a.createElement(ce.a,{style:{maxWidth:300,maxHeight:400,overflow:"auto"},dataSource:a,columns:[{code:"column1",width:100,name:"column 1"},{code:"column2",width:100,name:"column 2"},{code:"pearsonCoefficient",width:100,name:"relative coefficient"}]}))):"")},fe=Object(l.a)((function(e){return{root:{marginTop:"10px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",width:"100%"},choose:{color:"red",fontWeight:"bold"},require:{display:"flex",alignItems:"center"},text:{margin:"10px"},button:{fontSize:"10px"}}})),de=Object(W.a)((function(e){return{root:{width:42,height:26,padding:0,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#52d869",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}}))((function(e){var a=e.classes,t=Object(F.a)(e,["classes"]);return r.a.createElement(z.a,Object.assign({focusVisibleClassName:a.focusVisible,disableRipple:!0,classes:{root:a.root,switchBase:a.switchBase,thumb:a.thumb,track:a.track,checked:a.checked}},t))})),pe="0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)",he=[{value:0},{value:10},{value:25},{value:50}],ge=Object(W.a)({root:{marginTop:"12px",width:"20vw",color:"#3880ff",height:2,padding:"15px 0"},thumb:{height:28,width:28,backgroundImage:"radial-gradient(#f5efff, #a594f9, #e5d9f2)",boxShadow:pe,marginTop:-14,marginLeft:-14,"&:focus, &:hover, &$active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:pe}}},active:{},valueLabel:{left:"calc(-50% + 12px)",top:-22,"& *":{background:"transparent",color:"#000"}},track:{height:2},rail:{height:2,opacity:.5,backgroundColor:"#bfbfbf"},mark:{backgroundColor:"#bfbfbf",height:8,width:1,marginTop:-3},markActive:{opacity:1,backgroundColor:"currentColor"}})(V.a);var be=function(){var e=fe(),a=h(),t=Object(m.a)(a,2),n=t[0],o=t[1],i=r.a.useState(!1),l=Object(m.a)(i,2),c=l[0],s=l[1],u=r.a.useState([]),f=Object(m.a)(u,2),d=f[0],p=f[1],g=r.a.useState(0),b=Object(m.a)(g,2),v=b[0],y=b[1];return r.a.createElement("div",{className:e.root},0!==n.column.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"Hot Decking can only be used in multiple feature situation!"},r.a.createElement("div",null,"Please choose data filled way:")),r.a.createElement(B,{disabled:!(!n.finishChoose&&!c),value:n.proprocessWay,f:function(e){o("proprocessWay",e.target.value)},element:["Delelt Null","Linear Interpolation","Inverse Distance Weighting","Hot Decking"],multiple:!1}),r.a.createElement("div",{className:e.require},r.a.createElement(N.a,{color:"secondary",variant:"h4"},"*"),"Please choose time column:"),r.a.createElement(B,{disabled:!!n.finishChoose,value:n.timeColumn,f:function(e){o("timeColumn",e.target.value)},element:n.column,multiple:!1}),r.a.createElement("div",{className:e.require},r.a.createElement(N.a,{color:"secondary",variant:"h4"},"*"),r.a.createElement(N.a,{gutterBottom:!0},"Please choose mining aim column:"),r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"This column will be what you want to analyse and predict!"},r.a.createElement(le.a,{fontSize:"small"}))),r.a.createElement(B,{disabled:!!n.finishChoose,value:n.labelColumn,f:function(e){o("labelColumn",[e.target.value]);var a,t=[],r=[],i=Object(A.a)(n.column);try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l!==e.target.value&&l!==n.timeColumn){var c=Z(n.data4Analyse,l,e.target.value).toFixed(5);r.push({column1:e.target.value,column2:l,pearsonCoefficient:c}),Math.abs(c)>.8&&t.push(l)}}}catch(s){i.e(s)}finally{i.f()}p(r),0===n.inputColumn.length&&o("inputColumn",t)},element:n.column,multiple:!1}),r.a.createElement(N.a,{className:e.text,gutterBottom:!0},"Please choose input features:",r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"The default selection is made by correlation, but can be modified"},r.a.createElement(le.a,{fontSize:"small"}))),r.a.createElement(B,{disabled:!!n.finishChoose,value:n.inputColumn,f:function(e){o("inputColumn",e.target.value)},element:n.column,multiple:!0}),r.a.createElement(me,{relativeArr:d}),r.a.createElement(N.a,{className:e.text,gutterBottom:!0},"Anomaly Data Percentage:",r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"Pay attention of using the option! Please estimate the percentage of anomaly data in your dataset before setting this!"},r.a.createElement(le.a,{fontSize:"small"}))),r.a.createElement(ge,{"aria-label":"ios slider",disabled:!!n.finishChoose,marks:he,onChange:function(e,a){y(a)},value:v,max:50,valueLabelDisplay:"on"}),r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:""===n.labelColumn?"You should choose mining aim column or time column at first!":""},r.a.createElement(L.a,{control:r.a.createElement(de,{checked:n.finishChoose,onChange:function(){if(0!==n.labelColumn.length&&0!==n.timeColumn.length){if(o("finishChoose",!n.finishChoose),!c){s(!0);var e,a=JSON.parse(JSON.stringify(n.inputColumn));switch(n.proprocessWay){case"Delelt Null":e=JSON.parse(JSON.stringify(n.data4Analyse));var t,r=Object(A.a)(a);try{for(r.s();!(t=r.n()).done;){var i=t.value;e=ee(e,i)}}catch(h){r.e(h)}finally{r.f()}e=ee(e,n.labelColumn);break;case"Linear Interpolation":e=JSON.parse(JSON.stringify(n.data4Analyse));var l,u=Object(A.a)(a);try{for(u.s();!(l=u.n()).done;){var m=l.value;e=_(e,m)}}catch(h){u.e(h)}finally{u.f()}e=ee(e,n.labelColumn);break;case"Inverse Distance Weighting":e=JSON.parse(JSON.stringify(n.data4Analyse));var f,d=Object(A.a)(a);try{for(d.s();!(f=d.n()).done;){var p=f.value;e=X(e,p)}}catch(h){d.e(h)}finally{d.f()}e=ee(e,n.labelColumn);break;case"Hot Decking":e=JSON.parse(JSON.stringify(n.data4Analyse)),e=Q(e,a),e=ee(e,n.labelColumn);break;default:e=JSON.parse(JSON.stringify(n.data4Analyse))}0!==v?(o("anomalyDataPercentage",v),console.log(v),o("data4Analyse",oe(e,v,[n.labelColumn]))):o("data4Analyse",e)}}else o("finishChoose",!1)},name:"isFinishChoose"}),label:"Finish"}))):"")},ve=t(392),ye=t.n(ve),Ce=function(e,a,t,n,o,i){return r.a.createElement(ye.a,{key:i+o+a,data:e,layout:{plot_bgcolor:"rgba(255,255,255,0)",paper_bgcolor:"rgba(255,255,255,0)",height:n,xaxis:{title:{text:o,font:{family:"Courier New, monospace",size:18,color:"#7f7f7f"}}},yaxis:{title:{text:i,font:{family:"Courier New, monospace",size:18,color:"#7f7f7f"}}}}})},xe=function(e,a,t){return r.a.createElement(ye.a,{key:a,data:e,layout:t})},Ee=Object(l.a)((function(e){return{graphContainer:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"}}}));var je=function(){var e=h(),a=Object(m.a)(e,1)[0],t=Ee(),n=r.a.useRef(null),o=r.a.useState([]),i=Object(m.a)(o,2),l=i[0],c=i[1];return r.a.useEffect((function(){function e(e,a){return e.map((function(e){return e[a]}))}if(n.current){var t,r=[],o=1,i={showline:!0,zeroline:!1,showgrid:!0,mirror:!0,ticklen:4,gridcolor:"#ffffff",tickfont:{size:10}},l={height:500,title:"Features Line Graph",showlegend:!1,plot_bgcolor:"rgba(255,255,255,0)",paper_bgcolor:"rgba(255,255,255,0)"},s=Object(A.a)(a.inputColumn);try{for(s.s();!(t=s.n()).done;){var u=t.value,m={x:e(a.data4Analyse,a.timeColumn),y:e(a.data4Analyse,u),xaxis:"x"+o,yaxis:"y"+o,mode:"lines",name:u};l["xaxis"+o]=Object.assign({domain:[.5,1],anchor:"y"+o,showticklabels:1===o},i),l["yaxis"+o]=Object.assign({domain:[0+(o-1)/a.inputColumn.length,o/a.inputColumn.length-.02],anchor:"x"+o,hoverformat:".2f"},i),r.push(m),o++}}catch(f){s.e(f)}finally{s.f()}return c([xe(r,"miniline",l)]),function(){c([])}}}),[]),r.a.createElement("div",{ref:n,className:t.graphContainer},null===l||void 0===l?void 0:l.map((function(e){return e})))},we=Object(l.a)((function(e){return{graphContainer:{maxWidth:"90vw",overflowX:"scroll",display:"flex",justifyContent:"center",alignItems:"center"}}}));var Oe=function(){var e=h(),a=Object(m.a)(e,1)[0],t=we(),n=r.a.useRef(null),o=r.a.useState([]),i=Object(m.a)(o,2),l=i[0],c=i[1];return r.a.useEffect((function(){if(n.current){var e=[];if(0!==a.labelColumn.length){var t,r=[],o="",i=Object(A.a)(a.labelColumn);try{var l=function(){var e=t.value,n={};n.x=a.data4Analyse.map((function(e){return e[a.timeColumn]})),n.y=a.data4Analyse.map((function(a){return a[e]})),n.type="line",n.name=e,0===o.length?o+=e:o+=", "+e,r.push(n)};for(i.s();!(t=i.n()).done;)l()}catch(s){i.e(s)}finally{i.f()}e.push(Ce(r,"line",400,500,a.timeColumn,o)),c(e)}return function(){c([])}}}),[]),r.a.createElement("div",{ref:n,className:t.graphContainer},null===l||void 0===l?void 0:l.map((function(e){return e})),r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"The graph focus on the change rate of the data. From the graph, you can know the trend of data changing. The graph supports zooming."},r.a.createElement(le.a,{fontSize:"small"})),0!==a.inputColumn.length?r.a.createElement(je,null):"")},Se=Object(l.a)((function(e){return{graphContainer:{maxWidth:"90vw",overflowX:"scroll",display:"flex",justifyContent:"center",alignItems:"center"}}}));var Ne=function(){var e=h(),a=Object(m.a)(e,1)[0],t=Se(),n=r.a.useRef(null),o=r.a.useState([]),i=Object(m.a)(o,2),l=i[0],c=i[1];return r.a.useEffect((function(){if(n.current){var e=[];if(0!==a.labelColumn.length){var t=[],r="";if(0!==a.inputColumn.length){var o,i=Object(A.a)(a.inputColumn);try{var l=function(){var e=o.value,n={};n.y=a.data4Analyse.map((function(a){return a[e]})),n.x=a.data4Analyse.map((function(e){return e[a.timeColumn]})),n.type="bar",n.name=e,t.push(n)};for(i.s();!(o=i.n()).done;)l()}catch(u){i.e(u)}finally{i.f()}}else r=a.labelColumn[0];var s={};s.x=a.data4Analyse.map((function(e){return e[a.timeColumn]})),s.y=a.data4Analyse.map((function(e){return e[a.labelColumn]})),s.type="bar",s.name=a.labelColumn[0],t.push(s),e.push(Ce(t,"bar",800,500,a.timeColumn,r)),c(e)}return function(){c([])}}}),[]),r.a.createElement("div",{ref:n,className:t.graphContainer},null===l||void 0===l?void 0:l.map((function(e){return e})),r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"You can zoom and drag this graph to know the difference between different columns!"},r.a.createElement(le.a,{fontSize:"small"})))},ke=Object(l.a)((function(e){return{graphContainer:{display:"flex",justifyContent:"center",alignItems:"center"}}}));var Me=function(){var e=h(),a=Object(m.a)(e,1)[0],t=ke(),n=r.a.useRef(null),o=r.a.useState([]),i=Object(m.a)(o,2),l=i[0],c=i[1];return r.a.useEffect((function(){if(n.current){var e=[];if(0!==a.labelColumn.length){if(0!==a.inputColumn.length){var t,r=[],o=Object(A.a)(a.inputColumn);try{var i=function(){var e=t.value,n={};n.y=a.data4Analyse.map((function(a){return a[e]})),n.x=a.data4Analyse.map((function(e){return e[a.timeColumn]})),n.type="histogram2d",n.name=e,r.push(n)};for(o.s();!(t=o.n()).done;)i()}catch(l){o.e(l)}finally{o.f()}e.push(Ce(r,"histogram2d",800,500,a.timeColumn,""))}c(e)}return function(){c([])}}}),[]),r.a.createElement("div",{ref:n,className:t.graphContainer},null===l||void 0===l?void 0:l.map((function(e){return e})),r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"From this graph, you can know the distribution of the data set clearer!"},r.a.createElement(le.a,{fontSize:"small"})))},Ae=Object(l.a)((function(e){return{graphContainer:{display:"flex",justifyContent:"center",alignItems:"center"}}})),Fe=function(e,a){return isNaN(e)&&isNaN(a)?0:-parseFloat(e)+parseFloat(a)};var ze=function(){var e=h(),a=Object(m.a)(e,1)[0],t=Ae(),n=r.a.useRef(null),o=r.a.useState([]),i=Object(m.a)(o,2),l=i[0],c=i[1];return r.a.useEffect((function(){function e(e,a){return e.map((function(e){return e[a]}))}if(n.current){var t=[,].concat(Object(ae.a)(e(a.data4Analyse,a.labelColumn))),r=a.labelColumn,o=[r].concat(Object(ae.a)(e(a.data4Analyse,a.timeColumn)));a.data4Analyse.length>150&&(t=t.sort(Fe),t=[].concat(Object(ae.a)(t.slice(0,75)),Object(ae.a)(t.slice(-75,-1))),o=o.slice(0,150));var i=o.map((function(e){return e===r?"":r}));c([xe([{type:"sunburst",labels:o,parents:i,values:t,outsidetextfont:{size:20,color:"#377eb8"},leaf:{opacity:.4},marker:{line:{width:2}}}],"Sunburst",{margin:{l:0,r:0,b:0,t:0},width:500,height:500,plot_bgcolor:"rgba(255,255,255,0)",paper_bgcolor:"rgba(255,255,255,0)"})])}return function(){c([])}}),[]),r.a.createElement("div",{ref:n,className:t.graphContainer},null===l||void 0===l?void 0:l.map((function(e){return e})),r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"This graph use a clear way to show you the difference of output column!"},r.a.createElement(le.a,{fontSize:"small"})))},Le=Object(l.a)((function(e){return{graphContainer:{display:"flex",justifyContent:"center",alignItems:"center"}}}));var Te=function(){var e=h(),a=Object(m.a)(e,1)[0],t=Le(),n=r.a.useRef(null),o=r.a.useState([]),i=Object(m.a)(o,2),l=i[0],c=i[1];return r.a.useEffect((function(){function e(e,a){return e.map((function(e){return e[a]}))}if(n.current){var t,r=[{type:"parcoords",line:{showscale:!0,reversescale:!0,colorscale:"Jet",cmin:-4e3,cmax:-100},dimensions:[]}],o=0,i=Object(A.a)(a.inputColumn);try{for(i.s();!(t=i.n()).done;){var l=t.value,s=e(a.data4Analyse,l),u=void 0;0===o?(u={constraintrange:[Math.min.apply(Math,Object(ae.a)(s)),(Math.max.apply(Math,Object(ae.a)(s))-Math.min.apply(Math,Object(ae.a)(s)))/2],range:[Math.min.apply(Math,Object(ae.a)(s)),Math.max.apply(Math,Object(ae.a)(s))],label:l,values:e(a.data4Analyse,l)},o++):u={range:[Math.min.apply(Math,Object(ae.a)(s)),Math.max.apply(Math,Object(ae.a)(s))],label:l,values:e(a.data4Analyse,l)},r[0].dimensions.push(u)}}catch(m){i.e(m)}finally{i.f()}return c([Ce(r,"parcoords",800,500,"","")]),function(){c([])}}}),[]),r.a.createElement(r.a.Fragment,null,a.inputColumn.length>1?r.a.createElement("div",{ref:n,className:t.graphContainer},null===l||void 0===l?void 0:l.map((function(e){return e})),r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"The graph focus on the relationship between the each feature. You can try to add, move and remove purple bar(s) to get more details."},r.a.createElement(le.a,{fontSize:"small"}))):"")},Ie=t(391),Re=t(390),Pe=t(724),De=t(723),Ge=Object(l.a)((function(e){return{tableContainer:{display:"flex",justifyContent:"center",alignItems:"center"}}}));var Be=function(){var e=h(),a=Object(m.a)(e,2),t=a[0],n=a[1],o=Ge();return r.a.useEffect((function(){if(""===t.timeColumn){var e,a="",r=Object(A.a)(t.column);try{var o=function(){var n=e.value;if(""!==(a=t.data4Analyse.every((function(e){return isNaN(e[n])}))?n:""))return"break"};for(r.s();!(e=r.n()).done;){if("break"===o())break}}catch(i){r.e(i)}finally{r.f()}n("timeColumn",a)}}),[t.data4Analyse]),r.a.createElement("div",{className:o.tableContainer},t.data4Analyse?r.a.createElement(ce.a,{style:{maxWidth:1200,height:600,overflow:"auto",fontSize:"15px"},dataSource:t.data4Analyse,columns:t.column.map((function(e){return{code:e,name:e,width:150,align:"center",title:r.a.createElement("h2",null,e,e!==t.timeColumn?r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"\n                                            max:       ".concat(Object(Ie.a)(t.data4Analyse,(function(a){return parseFloat(a[e])})).toFixed(2),"\t\n                                            min:       ").concat(Object(Re.a)(t.data4Analyse,(function(a){return parseFloat(a[e])})).toFixed(2),"\t\n                                            sum:       ").concat(Object(H.a)(t.data4Analyse,(function(a){return parseFloat(a[e])})).toFixed(2),"\t\n                                            mean:      ").concat(Object(te.a)(t.data4Analyse,(function(a){return parseFloat(a[e])})).toFixed(2),"\t\n                                            median:    ").concat(Object(Pe.a)(t.data4Analyse,(function(a){return parseFloat(a[e])})).toFixed(2),"\t\n                                            variance:  ").concat(Object(ne.a)(t.data4Analyse,(function(a){return parseFloat(a[e])})).toFixed(2),"\t\n                                            deviation: ").concat(Object(De.a)(t.data4Analyse,(function(a){return parseFloat(a[e])})).toFixed(2),"\n                                            ")},r.a.createElement(le.a,{fontSize:"small"})):"")}}))}):"")};var We=function(){var e=h(),a=Object(m.a)(e,1)[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(Be,null),r.a.createElement(be,null)),a.finishChoose?r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe,null),r.a.createElement(Ne,null),r.a.createElement(Me,null),r.a.createElement(Te,null),r.a.createElement(ze,null)):"")},qe=t(3),Je=t.n(qe),Ve=t(17),$e=t(729),_e=t(473),Xe=t.n(_e),He=t(474),Ze=t.n(He),Ye=t(476),Ue=t.n(Ye),Ke=t(475),Qe=t.n(Ke),ea=t(477),aa=t.n(ea),ta=Object(l.a)({root:{width:250},input:{width:60}}),na=function(e){var a=ta(),t=h(),n=Object(m.a)(t,2),o=n[0],i=n[1],l=e.type,c=e.min,s=e.max,u=e.step,f=e.defaultNum,d=r.a.useState(f),p=Object(m.a)(d,2),g=p[0],b=p[1];r.a.useEffect((function(){!function(e){switch(l){case"Window Size":i("windowSize",e);break;case"Number of Hidden Layer":i("hiddenLayers",e);break;case"Epochs":i("epochs",e);break;case"Learning Rate":i("learnRate",e);break;case"Training Dataset Size (%)":i("trainingDataSize",e)}}(g)}),[o.finishSet]);return r.a.createElement("div",{className:a.root},r.a.createElement(N.a,{id:"input-slider",gutterBottom:!0,color:"secondary",variant:"body2"},l),r.a.createElement($e.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement($e.a,{item:!0},"Window Size"===l?r.a.createElement(Xe.a,null):"Number of Hidden Layer"===l?r.a.createElement(Ze.a,null):"Epochs"===l?r.a.createElement(Qe.a,null):"Learning Rate"===l?r.a.createElement(Ue.a,null):r.a.createElement(aa.a,null)),r.a.createElement($e.a,{item:!0,xs:!0},r.a.createElement(V.a,{value:"number"===typeof g?g:f,onChange:function(e,a){o.finishSet||b(a)},min:c,max:s,step:u,"aria-labelledby":"input-slider"})),r.a.createElement($e.a,{item:!0},r.a.createElement(R.a,{className:a.input,value:g,margin:"dense",onChange:function(e){o.finishSet||b(""===e.target.value?"":Number(e.target.value))},onBlur:function(){o.finishSet||(g<c?b(c):g>s&&b(s))},inputProps:{step:u,min:c,max:s,type:"number","aria-labelledby":"input-slider"}}))))},ra=t(62),oa=t(269);function ia(e,a){var t=Math.max.apply(Math,Object(ae.a)(e)),n=Math.min.apply(Math,Object(ae.a)(e));e=e.map((function(e){return(e-n)/(t-n)}));for(var r=[],o=0;o<=e.length-a-1;o++)r.push({x:e.slice(o,o+a),y:e[o+a+1]});return r}var la=function(){var e=Object(Ve.a)(Je.a.mark((function e(a,t,n,r,o,i){var l,c,s,u,m,f,d,p,h,g,b,v,y,C;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("trainSimpleModel"),l=ia(a,t),c=l.map((function(e){return e.x})),s=l.map((function(e){return e.y})),u=c.slice(0,Math.floor(i/100*c.length)),m=s.slice(0,Math.floor(i/100*s.length)),f=t,20,10,2,d=[10,2],20,p=t,20,1,h=ra.d(u,[u.length,u[0].length]),g=ra.d(m,[m.length,1]).reshape([m.length,1]),(b=ra.c()).add(ra.a.dense({units:20,inputShape:[f]})),b.add(ra.a.reshape({targetShape:d})),1!==o){for(b.add(ra.a.lstm({units:20,inputShape:d,returnSequences:!0})),v=1;v<o-1;v++)b.add(ra.a.lstm({units:20,returnSequences:!0}));b.add(ra.a.lstm({units:20,returnSequences:!1}))}else b.add(ra.a.lstm({units:20,inputShape:d,returnSequences:!1}));return b.add(ra.a.dense({units:1,inputShape:[20]})),b.compile({optimizer:ra.e.adam(r),loss:"meanSquaredError"}),e.next=25,b.fit(h,g,{batchSize:p,epochs:n,callbacks:oa.show.fitCallbacks({name:"RESULTs"},["loss","acc"],{callbacks:["onEpochEnd","onBatchEnd"]})});case 25:return y=e.sent,C={name:"Model Summary",tab:"Model Inspection"},oa.show.modelSummary(C,b),e.abrupt("return",{model:b,modelResult:y});case 29:case"end":return e.stop()}}),e)})));return function(a,t,n,r,o,i){return e.apply(this,arguments)}}(),ca=function(){var e=Object(Ve.a)(Je.a.mark((function e(a,t,n,r,o,i,l,c){var s,u,m,f,d,p,h,g,b,v,y,C,x,E,j,w,O,S,N,k,M;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("trainComplexModel"),s=[],u=Object(A.a)(l);try{for(f=function(){var e=m.value;s.push(sa(a.map((function(a){return parseFloat(a[e])})),t).map((function(e){return e.x})))},u.s();!(m=u.n()).done;)f()}catch(F){u.e(F)}finally{u.f()}for(d=sa(a.map((function(e){return parseFloat(e[c])})),t),s.push(d.map((function(e){return e.x}))),p=[],h=d.map((function(e){return e.y})),g=0;g<s[0].length;g++){for(b=[],v=0;v<s.length;v++)b.push(s[v][g]);p.push(b)}if(y=p.slice(0,Math.floor(i/100*p.length)),C=h.slice(0,Math.floor(i/100*h.length)),x=l.length+1,20,10,2,E=[10,2],20,j=t,20,1,w=ra.d(y),O=ra.d(C,[C.length,1]).reshape([C.length,1]),(S=ra.c()).add(ra.a.dense({units:20,inputShape:[x]})),S.add(ra.a.reshape({targetShape:E})),1!==o){for(S.add(ra.a.lstm({units:20,inputShape:E,returnSequences:!0})),N=1;N<o-1;N++)S.add(ra.a.lstm({units:20,returnSequences:!0}));S.add(ra.a.lstm({units:20,returnSequences:!1}))}else S.add(ra.a.lstm({units:20,inputShape:E,returnSequences:!1}));return S.add(ra.a.dense({units:1,inputShape:[20]})),S.compile({optimizer:ra.e.adam(r),loss:ra.b.huberLoss}),e.next=30,S.fit(w,O,{batchSize:j,epochs:n,callbacks:oa.show.fitCallbacks({name:"RESULTs"},["loss"],{callbacks:["onEpochEnd","onBatchEnd"]})});case 30:return k=e.sent,M={name:"Model Summary",tab:"Model Inspection"},oa.show.modelSummary(M,S),e.abrupt("return",{model:S,modelResult:k});case 34:case"end":return e.stop()}}),e)})));return function(a,t,n,r,o,i,l,c){return e.apply(this,arguments)}}();function sa(e,a){var t=Math.max.apply(Math,Object(ae.a)(e)),n=Math.min.apply(Math,Object(ae.a)(e));e=e.map((function(e){return(e-n)/(t-n)}));for(var r=[],o=0;o<=e.length-a-1;o++){for(var i=0,l=o+a,c=o;c<l&&c<=e.length;c++)i+=e[c];i/=a,r.push({x:i,y:e[o+a+1]})}return r}var ua=function(e,a,t,n,r,o){var i;if(n){var l,c=[],s=Object(A.a)(r);try{var u=function(){var a=l.value;c.push(sa(e.map((function(e){return parseFloat(e[a])})),t).map((function(e){return e.x})))};for(s.s();!(l=s.n()).done;)u()}catch(b){s.e(b)}finally{s.f()}var m=sa(e.map((function(e){return parseFloat(e[o])})),t);c.push(m.map((function(e){return e.x})));for(var f=[],d=0;d<c[0].length;d++){for(var p=[],h=0;h<c.length;h++)p.push(c[h][d]);f.push(p)}i=ra.d(f)}else e=(e=ia(e,t)).map((function(e){return e.x})),i=ra.d(e,[e.length,e[0].length]);var g=a.predict(i);return Array.from(g.dataSync())},ma=Object(l.a)({root:{marginTop:"10px",marginBottom:"10px",width:"100%",display:"flex",justifyContent:"center"},paper:{backgroundColor:"#f2e8cf",width:"90%",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},buttons:{display:"flex",justifyContent:"space-around",alignItems:"center",width:"600px"}}),fa=Object(W.a)((function(e){return{root:{width:42,height:26,padding:0,margin:e.spacing(1)},switchBase:{padding:1,"&$checked":{transform:"translateX(16px)",color:e.palette.common.white,"& + $track":{backgroundColor:"#52d869",opacity:1,border:"none"}},"&$focusVisible $thumb":{color:"#52d869",border:"6px solid #fff"}},thumb:{width:24,height:24},track:{borderRadius:13,border:"1px solid ".concat(e.palette.grey[400]),backgroundColor:e.palette.grey[50],opacity:1,transition:e.transitions.create(["background-color","border"])},checked:{},focusVisible:{}}}))((function(e){var a=e.classes,t=Object(F.a)(e,["classes"]);return r.a.createElement(z.a,Object.assign({focusVisibleClassName:a.focusVisible,disableRipple:!0,classes:{root:a.root,switchBase:a.switchBase,thumb:a.thumb,track:a.track,checked:a.checked}},t))}));var da=function(){var e=h(),a=Object(m.a)(e,2),t=a[0],n=a[1],o=ma(),i=r.a.useState(!1),l=Object(m.a)(i,2),s=l[0],u=l[1],f=function(){var e=Object(Ve.a)(Je.a.mark((function e(){var a,r,o,i,l,c,s,m;return Je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),a=t.labelColumn,r=t.data4Analyse.map((function(e){return parseFloat(e[a])})),0===t.inputColumn.length){e.next=13;break}return e.next=6,ca(t.data4Analyse,t.windowSize,t.epochs,t.learningRate,t.hiddenLayers,t.trainingDataSize,t.inputColumn,a);case 6:o=e.sent,i=o.model,l=o.modelResult,n("model",i),n("modelResult",l),e.next=20;break;case 13:return e.next=15,la(r,t.windowSize,t.epochs,t.learningRate,t.hiddenLayers,t.trainingDataSize);case 15:c=e.sent,s=c.model,m=c.modelResult,n("model",s),n("modelResult",m);case 20:u(!1);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:o.root},t.finishChoose?r.a.createElement(c.a,{elevation:3,className:o.paper},r.a.createElement(N.a,{color:"secondary",variant:"subtitle2"},"If you do not know the means or these chooses",r.a.createElement(q.a,{TransitionComponent:J.a,TransitionProps:{timeout:600},title:"In general, a precise model needs bigger window size, more hidden layers, more epochs, less learning rate and more data! But please consider these options according the requirements and machine performance!"},r.a.createElement(le.a,{fontSize:"small"})),", Please use the default values!!"),r.a.createElement(N.a,{variant:"h5"},"Model training setting:"),[{type:"Window Size",min:1,max:100,defaultNum:20,step:1},{type:"Number of Hidden Layer",min:1,max:50,defaultNum:4,step:1},{type:"Epochs",min:5,max:500,defaultNum:20,step:1},{type:"Learning Rate",min:.01,max:10,defaultNum:.05,step:.01},{type:"Training Dataset Size (%)",min:1,max:100,defaultNum:80,step:1}].map((function(e,a){return r.a.createElement(na,{key:a,type:e.type,min:e.min,max:e.max,defaultNum:e.defaultNum,step:e.step})})),r.a.createElement(L.a,{control:r.a.createElement(fa,{checked:t.finishSet,onChange:function(){return n("finishSet",!t.finishSet)},name:"isFinish"}),label:"Finish"}),r.a.createElement("div",{className:o.buttons},r.a.createElement(b.a,{variant:"contained",color:"primary",disabled:!(t.finishSet&&""===t.model&&!s),onClick:f},"Start Training"),r.a.createElement(b.a,{variant:"contained",color:"secondary",disabled:""===t.model,onClick:function(){n("model",""),n("modelResult","")}},"Clear exist model"))):"")},pa=Object(l.a)((function(e){return{graphContainer:{display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},card:{marginTop:"10px",height:"50px",display:"flex",backgroundColor:"skyblue",alignContent:"center",justifyContent:"center"}}}));var ha=function(){var e=h(),a=Object(m.a)(e,1)[0],t=pa(),n=r.a.useState(null),o=Object(m.a)(n,2),i=o[0],l=o[1],c=r.a.useState(null),s=Object(m.a)(c,2),u=s[0],f=s[1];return r.a.useEffect((function(){if(""!==a.model)if(0===a.inputColumn.length){for(var e=a.labelColumn,t=a.data4Analyse.map((function(a){return parseFloat(a[e])})),n=Math.max.apply(Math,Object(ae.a)(t)),r=Math.min.apply(Math,Object(ae.a)(t)),o=[],i=[],c=[],s=0;s<a.windowSize+1;s++)i.push(NaN);for(var u=i.concat(ua(t,a.model,a.windowSize).map((function(e){return e*(n-r)+r}))),m=Math.floor(u.length*a.trainingDataSize/100),d=m;d<a.data4Analyse.length;d++)c.push(NaN);for(var p=[],h=0;h<m;h++)p.push(NaN);o.push({x:a.data4Analyse.map((function(e){return e[a.timeColumn]})),y:t,type:"line",name:"Origin Data"}),o.push({x:a.data4Analyse.map((function(e){return e[a.timeColumn]})),y:u.slice(0,m).concat(c),type:"line",name:"Given by this Model"}),o.push({x:a.data4Analyse.map((function(e){return e[a.timeColumn]})),y:p.concat(u.slice(m,-1)),type:"line",name:"Validation of this Model"}),l(o),f(u[u.length-1])}else{for(var g=a.labelColumn,b=a.data4Analyse.map((function(e){return parseFloat(e[g])})),v=Math.max.apply(Math,Object(ae.a)(b)),y=Math.min.apply(Math,Object(ae.a)(b)),C=[],x=[],E=[],j=0;j<a.windowSize+1;j++)x.push(NaN);for(var w=x.concat(ua(a.data4Analyse,a.model,a.windowSize,!0,a.inputColumn,a.labelColumn).map((function(e){return e*(v-y)+y}))),O=Math.floor(w.length*a.trainingDataSize/100),S=O;S<a.data4Analyse.length;S++)E.push(NaN);for(var N=[],k=0;k<O;k++)N.push(NaN);C.push({x:a.data4Analyse.map((function(e){return e[a.timeColumn]})),y:b,type:"line",name:"Origin Data"}),C.push({x:a.data4Analyse.map((function(e){return e[a.timeColumn]})),y:w.slice(0,O).concat(E),type:"line",name:"Given by this Model"}),C.push({x:a.data4Analyse.map((function(e){return e[a.timeColumn]})),y:N.concat(w.slice(O,-1)),type:"line",name:"Validation of this Model"}),l(C),f(w[w.length-1])}return function(){l(null),f(null)}}),[a.model]),r.a.createElement("div",{className:t.graphContainer},i?Ce(i,"line",800,500,a.timeColumn,a.labelColumn[0]):"",u?r.a.createElement(O.a,{className:t.card},r.a.createElement(S.a,null,"At the next time node, ".concat(a.labelColumn[0]," will be ").concat(u))):"")},ga=t(498),ba=Object(l.a)((function(e){return{root:{margin:"30px auto",width:"90vw",backgroundImage:"linear-gradient(to bottom, #5b61e5 0%, #e9c1db 49%, #ffe8c9 100%)"}}}));var va=function(){var e=ba(),a=Object(g.a)("/model/platelet/model.json","hello world",400,500).element;return r.a.useEffect((function(){Object(ga.a)({redirect:"https://www.baidu.com"})})),r.a.createElement(p,null,r.a.createElement(c.a,{className:e.root},r.a.createElement(M,null),r.a.createElement(j,null),r.a.createElement(We,null),r.a.createElement(da,null),r.a.createElement(ha,null)),a)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(va,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[531,1,2]]]);
//# sourceMappingURL=main.86a1432d.chunk.js.map